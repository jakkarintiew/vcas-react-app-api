{"version":3,"sources":["img/vessel_marker.png","img/warning_red.png","app/Redux.js","styles/themes.js","styles/global.js","components/map/MapTooltip.js","components/map/MapContainer.js","components/control-panel/Logo.js","components/control-panel/PanelHeader.js","components/control-panel/data-manager-panel/DataSourceControl.js","components/control-panel/data-manager-panel/VesselTypeFilter.js","components/control-panel/data-manager-panel/FilterHistogram.js","components/control-panel/data-manager-panel/SliderFilter.js","components/control-panel/data-manager-panel/VesselSliderFilters.js","components/control-panel/data-manager-panel/DataManagerPanel.js","components/common/icons/base.js","components/common/icons/eye-seen.js","components/common/icons/eye-unseen.js","components/control-panel/layer-manager-panel/LayerVisibilityToggle.js","components/control-panel/layer-manager-panel/LayerManagerPanel.js","components/control-panel/map-manager-panel/MapControlToggle.js","components/control-panel/map-manager-panel/MapManagerPanel.js","components/control-panel/PanelContent.js","components/common/CollapseButton.js","components/common/icons/arrow-right.js","components/control-panel/ControlPanel.js","components/details-panel/PropertyInfo.js","components/details-panel/VesselDetailsCard.js","components/details-panel/VesselLineChart.js","components/details-panel/VesselDetails.js","components/details-panel/AlertDetails.js","components/details-panel/DetailsPanel.js","components/search-bar/SearchBar.js","app/App.js","serviceWorker.js","index.js"],"names":["module","exports","INITIAL_VIEWSTATES","main","longitude","latitude","zoom","pitch","bearing","minimap","mapViewInitialState","vesselViewEnabled","miniMapViewEnabled","initialViewStates","viewStates","activeVesselViewStates","mapViewSlice","createSlice","name","initialState","reducers","toggleVesselView","state","toggleMiniMapView","setViewStates","payload","resetViewStates","storeActiveVesselViewStates","panelOpenSlice","controlPanel","panelName","isOpen","detailsPanel","timeSlider","searchBar","toggleOpen","panel","Object","keys","find","key","layerVisibilitySlice","fairwayPolygon","layerName","visible","lanePolygon","mooringPolygon","anchorangePolygon","riskHeatmap","riskScreenGrid","riskHexagon","historicalPath","futurePath","riskPath","movingVesselIcon","stoppedVesselIcon","alertIcon","toggleVisibility","layer","themeSlice","toggle","vesselTypeFilterSlice","vesselType","filterState","toggle_filter","index","findIndex","data","search_filter","forEach","elem","toLowerCase","includes","select_all","deselect_all","vesselSliderFilterSlice","risk","speed","set_risk_range","set_speed_range","framesSlice","metadata","startTime","endTime","frames","currentFrame","loadedFrames","setMetadata","setCurrentFrame","setLoadedFrames","incrementLoadedFrames","pathDataInitialState","path","timestamps","heading","course","pathDataSlice","activePathData","activeFuturePath","activeHistoricalPath","highRiskPathData","alertPathData","setActivePath","setActiveFuturePath","setActiveHistoricalPath","setHighRiskPaths","setAlertPaths","vesselDataSlice","allVesselData","activeVesselData","alertVesselData","alertColors","border","borderRGB","fill","fillRGB","setAllVessels","setActiveVessels","setAlertVessels","dataSourceControlSlice","currentTime","setCurrentTime","reset","actions","toggleVesselViewActionCreator","toggleMiniMapViewActionCreator","setViewStatesActionCreator","resetViewStatesActionCreator","storeActiveVesselViewStatesActionCreator","togglePanelOpenActionCreator","toggleLayerVisibilityActionCreator","toggleThemeActionCreator","filterVesselTypeActionCreator","searchFilterActionCreator","selectAllActionCreator","deselectAllActionCreator","setVesselRiskFilterRangeActionCreator","setVesselSpeedFilterRangeActionCreator","setActivePathActionCreator","setActiveFuturePathActionCreator","setActiveHistoricalPathActionCreator","setAlertPathsActionCreator","setAllVesselsActionCreator","setActiveVesselsActionCreator","setAlertVesselsActionCreator","setCurrentTimeActionCreator","resetActionCreator","reducer","mapView","panelOpen","layerVisibility","darkThemeEnabled","vesselTypeFilter","vesselSliderFilter","pathData","vesselData","dataSourceControl","middleware","thunk","configureStore","input","css","props","theme","inputBgd","active","inputBorderActiveColor","error","errorColor","inputColor","size","inputFontSizeSmall","inputFontSize","inputFontWeight","inputBoxHeightSmall","inputBoxHeightTiny","inputBoxHeight","inputPaddingSmall","inputPaddingTiny","inputPadding","transition","disabled","type","inputBgdActive","inputBgdHover","inputBorderHoverColor","inputPlaceholderColor","inputPlaceholderFontWeight","inputLT","selectBackgroundLT","selectActiveBorderColor","selectBorderColorLT","selectColorLT","subtextColorLT","textColorLT","subtextColor","panelBorder","panelBorderLT","darkTheme","sidePanel","width","margin","top","left","bottom","right","headerHeight","mapControl","padding","transitionFast","transitionSlow","activeColor","activeColorHover","borderRadius","boxShadow","dropdownListHighlightBg","dropdownListHighlightBgLT","dropdownListBgd","dropdownListBgdLT","dropdownListBorderTop","labelColor","labelHoverColor","mapPanelBackgroundColor","mapPanelHeaderBackgroundColor","selectBackground","selectBackgroundHover","selectBackgroundHoverLT","selectBorder","selectBorderColor","selectBorderRadius","selectColor","selectColorPlaceHolder","selectFontSize","selectFontWeight","selectFontWeightBold","inputBorderColor","inputBorderRadius","secondaryInputBgd","secondaryInputBgdHover","secondaryInputBgdActive","secondaryInputColor","secondaryInputBorderColor","secondaryInputBorderActiveColor","checkboxWidth","checkboxHeight","checkboxMargin","checkboxBorderColor","checkboxBorderRadius","checkboxBorderColorLT","checkboxBoxBgd","checkboxBoxBgdChecked","primaryBtnBgd","primaryBtnActBgd","primaryBtnColor","primaryBtnActColor","primaryBtnBgdHover","primaryBtnRadius","secondaryBtnBgd","secondaryBtnActBgd","secondaryBtnBgdHover","secondaryBtnColor","secondaryBtnActColor","negativeBtnBgd","negativeBtnActBgd","negativeBtnBgdHover","negativeBtnColor","negativeBtnActColor","linkBtnBgd","linkBtnActBgd","linkBtnColor","linkBtnActColor","linkBtnActBgdHover","floatingBtnBgd","floatingBtnActBgd","floatingBtnBgdHover","floatingBtnColor","floatingBtnActColor","sidePanelBg","sidePanelInnerPadding","sideBarCloseBtnBgd","sideBarCloseBtnColor","sideBarCloseBtnBgdHover","sidePanelHeaderBg","sidePanelScrollBarWidth","sidePanelScrollBarHeight","panelActiveBg","panelBackground","panelBackgroundHover","panelBackgroundLT","panelBoxShadow","panelBorderRadius","panelBorderColor","panelHeaderIcon","panelHeaderIconActive","panelHeaderHeight","fontFamily","fontWeight","fontSize","lineHeight","textColor","textColorHl","titleTextColor","subtextColorActive","textTruncate","maxWidth","overflow","textOverflow","whiteSpace","wordWrap","titleColorLT","tooltipBg","tooltipColor","logoColor","labelTextColor","mapStyle","lightTheme","sliderBarColor","sliderBarBgd","sliderHandleColor","sliderHandleHoverColor","switchBtnBgd","secondarySwitchBtnBgd","secondarySwitchTrackBgd","switchBtnBgdActive","switchTrackBgd","switchTrackBgdActive","rangeBrushBgd","histogramFillInRange","histogramFillOutRange","GlobalStyle","createGlobalStyle","StyledTooltipContainer","styled","div","MapTooltip","tooltipInfo","objectType","hoveredObject","pointerX","pointerY","coordinate","useState","height","setSize","tooltipComponent","useRef","useEffect","handleResize","current","scrollWidth","scrollHeight","window","addEventListener","removeEventListener","ref","style","x","y","windowW","innerWidth","windowH","innerHeight","pos","_getPosition","mmsi","shipname","vessel_type_lookup","shiptype","Math","round","Number","EPSILON","MapContainer","closeEncounters","MAPBOX_ACCESS_TOKEN","process","dispatch","useDispatch","useSelector","allVessels","activeVessels","highRiskPaths","alertVessels","alertPaths","vessel","newViewState","paths","VIEWS","MapView","id","controller","clear","filter","Boolean","updateVesselViewState","vesselViewState","visibleVessels","map","vesselTypeLookup","movingVessels","stoppedVessels","highRiskVessels","getPath","vesselID","a","axios","get","promisePath","console","log","getFuturePath","filteredPath","currentIndex","obj","frame","length","timestamp","apiGetHistoricalPath","method","url","time_stamp_int","headers","Authorization","response","JSON","parse","mmsiTypeLookup","v","code","lon","lat","random","activeMMSI","Promise","resolve","then","transitionDuration","transitionInterruption","TRANSITION_EVENTS","UPDATE","transitionInterpolator","FlyToInterpolator","clickVesselEvent","newActiveVessel","setTooltipInfo","layers","PolygonLayer","dataFairways","stroked","filled","lineWidthMinPixels","getPolygon","d","coordinates","getFillColor","getLineColor","getLineWidth","pickable","autoHighlight","highlightColor","onHover","info","object","centroid","PathLayer","dataLanes","getColor","opacity","getWidth","rounded","widthMinPixels","coordinateSystem","COORDINATE_SYSTEM","LNGLAT","dataLaneBoundaries","getDashArray","dashJustified","extensions","PathStyleExtension","dash","dataMooringAreas","dataAnchorages","TextLayer","getPosition","getText","sizeUnits","getSize","getAngle","wordBreak","getTextAnchor","getAlignmentBaseline","HeatmapLayer","getWeight","radiusPixels","intensity","threshold","ScreenGridLayer","cellSizePixels","HexagonLayer","lowerPercentile","extruded","radius","exp","coverage","widthUnits","indexOf","IconLayer","iconAtlas","require","iconMapping","warningMarker","mask","getIcon","vessel_1_longitude","vessel_2_longitude","vessel_1_latitude","vessel_2_latitude","sizeScale","sizeMinPixels","sizeMaxPixels","billboard","onClick","vessel_1_mmsi","vessel_2_mmsi","alertPathsPromises","newAlertPaths","push","all","responses","catch","clickAlertEvent","vesselMarker","views","getCursor","viewState","onViewStateChange","viewId","currentViewStates","reuseMaps","preventStyleDiffing","mapboxApiAccessToken","LogoTitle","LogoName","LogoVersion","LogoWrapper","VCASLogo","appName","appWebsite","version","className","target","rel","href","defaultProps","StyledPanelHeader","StyledPanelHeaderTop","PanelHeader","DataSourceWidgetContainer","StyledButton","button","StyledKeyboardDateTimePicker","KeyboardDateTimePicker","DataSourceControl","utils","DateFnsUtils","autoOk","ampm","variant","label","value","Date","onChange","event","newValue","time","format","InputProps","disableUnderline","FilterWidgetContainer","ChipsContainer","StyledChip","Chip","filterstate","FilterInput","SelectAllButton","VesselTypeFilter","visibleTypes","handleChipClick","toggleFilter","placeholder","e","searchStr","autoHide","autoHideDuration","autoHideTimeout","icon","color","clickable","disableRipple","toString","FilterHistogram","domain","binSize","highlight","hist","min","max","bins","floor","histogram","i","bin","count","item","chart_data","labels","datasets","backgroundColor","options","responsive","maintainAspectRatio","animation","duration","legend","display","scales","xAxes","yAxes","ticks","StyledSlider","withStyles","root","paddingTop","paddingBottom","thumb","marginTop","marginLeft","track","rail","Slider","ResetButton","SliderFilter","reduxRange","setReduxRange","sliderRange","setSliderRange","inputRange","setInputRange","valueLabelDisplay","oldRange","isNaN","handleMinField","parseFloat","handleMaxField","VesselSliderFilters","vesselsData","riskData","speedData","newRange","StyledPanelContent","DataManagerPanel","Base","this","viewBox","children","predefinedClassName","colors","totalColor","svgHeight","svgWidth","fillStyle","Array","isArray","reduce","accu","c","getStyleClassFromColor","Component","displayName","EyeSeen","EyeUnseen","LayerContainer","LayerVisibilityToggle","toggleLayerVisibility","LayerGroupContainer","LayerManagerPanel","ControlContainer","CheckBoxWrapper","CheckBoxLabel","CheckBox","MapControlToggle","checked","htmlFor","MapManagerPanel","StyledTabsContainer","StyledTabs","Tabs","panels","iconComponent","StorageIcon","panelComponent","LayersIcon","EditLocationIcon","StyledTab","Tab","StyledPanelContainer","TabPanel","other","role","hidden","PanelContent","React","setValue","position","indicatorColor","verticalAlign","CollapseButton","ArrowRight","LeftPanelBox","StyledSidePanelContainer","SidePanelInner","SidePanel","panelKey","togglePanelOpen","transform","initialDegree","PropertyLabel","PropertyData","PropertyInfo","CardContainer","CardHeader","headerColor","PropertyContainer","VesselName","VesselSubTitle","VesselDetailsCard","ChartContainer","GraphContainer","VesselLineChart","chartTitle","suggestedMax","yMax","displayFormats","millisecond","second","VesselDetails","speedChartData","lineTension","pointBackgroundColor","borderColor","pointRadius","riskChartData","AlertDetails","RightPanelBox","StyledDetailsPanelContainer","DetailsPanelInner","PlaceholderContainer","DetailsPanel","TopPanelBox","StyledSearchBarContainer","SearchBarInner","SearchField","StyledIconButton","IconButton","SearchBar","updateView","inputValue","setInputValue","setOptions","searchOptions","location","classes","makeStyles","alignItems","spacing","flex","iconButton","divider","useStyles","newOptions","option","Autocomplete","autoComplete","getOptionLabel","noOptionsText","onInputChange","newInputValue","renderInput","params","TextField","ScreenCircularProgress","indeterminate","animationDuration","CircularProgress","App","vessels","setError","alertFrame","getFirstFrame","message","StylesProvider","injectFirst","ControlPanel","allCloseEncounters","hostname","match","ReactDOM","render","store","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1c4251a0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/vessel_marker.ecf136b4.png\";","module.exports = __webpack_public_path__ + \"static/media/warning_red.e83d5b18.png\";","import {\n  configureStore,\n  createSlice,\n  // getDefaultMiddleware,\n} from \"@reduxjs/toolkit\";\nimport thunk from \"redux-thunk\";\n\nconst INITIAL_VIEWSTATES = {\n  main: {\n    longitude: 103.8198,\n    latitude: 1.2521,\n    zoom: 10,\n    pitch: 0,\n    bearing: 0,\n  },\n  minimap: {\n    longitude: 103.8198,\n    latitude: 1.2521,\n    zoom: 10,\n    pitch: 0,\n    bearing: 0,\n  },\n};\n\nconst mapViewInitialState = {\n  vesselViewEnabled: false,\n  miniMapViewEnabled: false,\n  initialViewStates: INITIAL_VIEWSTATES,\n  viewStates: INITIAL_VIEWSTATES,\n  activeVesselViewStates: INITIAL_VIEWSTATES,\n};\n\nconst mapViewSlice = createSlice({\n  name: \"mapView\",\n  initialState: mapViewInitialState,\n  reducers: {\n    toggleVesselView: (state) => {\n      state.vesselViewEnabled = !state.vesselViewEnabled;\n    },\n    toggleMiniMapView: (state) => {\n      state.miniMapViewEnabled = !state.miniMapViewEnabled;\n    },\n    setViewStates: (state, { payload }) => {\n      state.viewStates = payload;\n    },\n    resetViewStates: (state) => {\n      state.viewStates.main = state.initialViewStates.main;\n    },\n    storeActiveVesselViewStates: (state, { payload }) => {\n      state.activeVesselViewStates = payload;\n    },\n  },\n});\n\nconst PANEL_OPEN_INITIAL_STATE = {\n  controlPanel: {\n    panelName: \"Control Panel\",\n    isOpen: true,\n  },\n  detailsPanel: {\n    panelName: \"Details Panel\",\n    isOpen: false,\n  },\n  timeSlider: {\n    panelName: \"Time Slider\",\n    isOpen: true,\n  },\n  searchBar: {\n    panelName: \"Search Bar\",\n    isOpen: true,\n  },\n};\n\nconst panelOpenSlice = createSlice({\n  name: \"panelOpen\",\n  initialState: PANEL_OPEN_INITIAL_STATE,\n  reducers: {\n    toggleOpen: (state, { payload }) => {\n      const panel = state[Object.keys(state).find((key) => key === payload)];\n      panel.isOpen = !panel.isOpen;\n    },\n  },\n});\n\nconst layerVisibilityInitialState = {\n  fairwayPolygon: { layerName: \"Fairways\", visible: true },\n  lanePolygon: { layerName: \"Lanes and Boundaries\", visible: true },\n  mooringPolygon: { layerName: \"Mooring Areas\", visible: true },\n  anchorangePolygon: { layerName: \"Anchorage Areas\", visible: true },\n  riskHeatmap: { layerName: \"Collision Risk Heatmap\", visible: false },\n  riskScreenGrid: { layerName: \"Collision Risk Screen Grid\", visible: false },\n  riskHexagon: { layerName: \"Collision Risk Hexagon Grid\", visible: false },\n  historicalPath: { layerName: \"Historical Path\", visible: true },\n  futurePath: { layerName: \"Future Path\", visible: true },\n  riskPath: { layerName: \"High-risk Vessel Path\", visible: false },\n  movingVesselIcon: { layerName: \"Moving Vessels\", visible: true },\n  stoppedVesselIcon: { layerName: \"Stopped Vessels\", visible: false },\n  alertIcon: { layerName: \"Alerts\", visible: false },\n};\n\nconst layerVisibilitySlice = createSlice({\n  name: \"layerVisibility\",\n  initialState: layerVisibilityInitialState,\n  reducers: {\n    toggleVisibility: (state, { payload }) => {\n      const layer =\n        state[\n          Object.keys(state).find((key) => state[key].layerName === payload)\n        ];\n      layer.visible = !layer.visible;\n    },\n  },\n});\n\nconst themeSlice = createSlice({\n  name: \"darkThemeEnabled\",\n  initialState: false,\n  reducers: {\n    toggle: (state) => !state,\n  },\n});\n\nconst vesselTypeFilterInitialState = [\n  { vesselType: \"Not Available\", filterState: true, visible: true },\n  { vesselType: \"Reserved\", filterState: true, visible: true },\n  { vesselType: \"Wing In Grnd\", filterState: true, visible: true },\n  { vesselType: \"SAR Aircraft\", filterState: true, visible: true },\n  { vesselType: \"Fishing\", filterState: true, visible: true },\n  { vesselType: \"Tug\", filterState: true, visible: true },\n  { vesselType: \"Dredger\", filterState: true, visible: true },\n  { vesselType: \"Dive Vessel\", filterState: true, visible: true },\n  { vesselType: \"Military Ops\", filterState: true, visible: true },\n  { vesselType: \"Sailing Vessel\", filterState: true, visible: true },\n  { vesselType: \"Pleasure Craft\", filterState: true, visible: true },\n  { vesselType: \"High-Speed Craft\", filterState: true, visible: true },\n  { vesselType: \"Pilot Vessel\", filterState: true, visible: true },\n  { vesselType: \"SAR\", filterState: true, visible: true },\n  { vesselType: \"Port Tender\", filterState: true, visible: true },\n  { vesselType: \"Anti-Pollution\", filterState: true, visible: true },\n  { vesselType: \"Law Enforce\", filterState: true, visible: true },\n  { vesselType: \"Local Vessel\", filterState: true, visible: true },\n  { vesselType: \"Medical Trans\", filterState: true, visible: true },\n  { vesselType: \"Special Craft\", filterState: true, visible: true },\n  { vesselType: \"Passenger\", filterState: true, visible: true },\n  { vesselType: \"Cargo\", filterState: true, visible: true },\n  { vesselType: \"Cargo - Hazard A (Major)\", filterState: true, visible: true },\n  { vesselType: \"Cargo - Hazard B\", filterState: true, visible: true },\n  { vesselType: \"Cargo - Hazard C (Minor)\", filterState: true, visible: true },\n  {\n    vesselType: \"Cargo - Hazard D (Recognizable)\",\n    filterState: true,\n    visible: true,\n  },\n  { vesselType: \"Tanker\", filterState: true, visible: true },\n  { vesselType: \"Tanker - Hazard A (Major)\", filterState: true, visible: true },\n  { vesselType: \"Tanker - Hazard B\", filterState: true, visible: true },\n  { vesselType: \"Tanker - Hazard C (Minor)\", filterState: true, visible: true },\n  {\n    vesselType: \"Tanker - Hazard D (Recognizable)\",\n    filterState: true,\n    visible: true,\n  },\n  { vesselType: \"Other\", filterState: true, visible: true },\n];\n\nconst vesselTypeFilterSlice = createSlice({\n  name: \"vesselTypeFilter\",\n  initialState: vesselTypeFilterInitialState,\n  reducers: {\n    toggle_filter: (state, { payload }) => {\n      const index = state.findIndex((data) => data.vesselType === payload);\n      state[index].filterState = !state[index].filterState;\n    },\n    search_filter: (state, { payload }) => {\n      state.forEach((elem) => {\n        if (elem.vesselType.toLowerCase().includes(payload.toLowerCase())) {\n          elem.visible = true;\n        } else {\n          elem.visible = false;\n        }\n      });\n    },\n    select_all: (state) => {\n      state.forEach((elem) => {\n        if (elem.visible) elem.filterState = true;\n      });\n    },\n    deselect_all: (state) => {\n      state.forEach((elem) => {\n        if (elem.visible) elem.filterState = false;\n      });\n    },\n  },\n});\n\nconst vesselSliderFilterSlice = createSlice({\n  name: \"vesselSliderFilter\",\n  initialState: { risk: [0, 100], speed: [0, 35] },\n  reducers: {\n    set_risk_range: (state, { payload }) => {\n      state.risk[0] = payload[0];\n      state.risk[1] = payload[1];\n    },\n    set_speed_range: (state, { payload }) => {\n      state.speed[0] = payload[0];\n      state.speed[1] = payload[1];\n    },\n  },\n});\n\nconst framesInitialState = {\n  metadata: {\n    startTime: 0,\n    endTime: 0,\n    frames: [],\n  },\n  currentFrame: 0,\n  loadedFrames: 0,\n};\n\nconst framesSlice = createSlice({\n  name: \"frames\",\n  initialState: framesInitialState,\n  reducers: {\n    setMetadata: (state, { payload }) => {\n      state.metadata = payload;\n    },\n    setCurrentFrame: (state, { payload }) => {\n      state.currentFrame = payload;\n    },\n    setLoadedFrames: (state, { payload }) => {\n      state.loadedFrames = payload;\n    },\n    incrementLoadedFrames: (state) => {\n      state.loadedFrames++;\n    },\n  },\n});\n\nconst pathDataInitialState = [\n  {\n    path: [],\n    timestamps: [],\n    speed: [],\n    heading: [],\n    course: [],\n    risk: [],\n  },\n];\n\nconst pathDataSlice = createSlice({\n  name: \"pathData\",\n  initialState: {\n    activePathData: [],\n    activeFuturePath: pathDataInitialState,\n    activeHistoricalPath: pathDataInitialState,\n    highRiskPathData: [],\n    alertPathData: [],\n  },\n  reducers: {\n    setActivePath: (state, { payload }) => {\n      state.activePathData = payload;\n    },\n    setActiveFuturePath: (state, { payload }) => {\n      state.activeFuturePath = payload;\n    },\n    setActiveHistoricalPath: (state, { payload }) => {\n      state.activeHistoricalPath = payload;\n    },\n    setHighRiskPaths: (state, { payload }) => {\n      state.highRiskPathData = payload;\n    },\n    setAlertPaths: (state, { payload }) => {\n      state.alertPathData = payload;\n    },\n  },\n});\n\nconst vesselDataSlice = createSlice({\n  name: \"vesselData\",\n  initialState: {\n    allVesselData: [],\n    activeVesselData: [],\n    alertVesselData: [],\n    alertColors: [\n      {\n        border: \"#530354\",\n        borderRGB: [83, 3, 84],\n        fill: \"#A004A4\",\n        fillRGB: [160, 4, 164],\n      },\n      {\n        border: \"#AB4700\",\n        borderRGB: [171, 71, 0],\n        fill: \"#FF6A00\",\n        fillRGB: [255, 106, 0],\n      },\n    ],\n  },\n  reducers: {\n    setAllVessels: (state, { payload }) => {\n      state.allVesselData = payload;\n    },\n    setActiveVessels: (state, { payload }) => {\n      state.activeVesselData = payload;\n    },\n    setAlertVessels: (state, { payload }) => {\n      state.alertVesselData = payload;\n    },\n  },\n});\n\nconst dataSourceControlSlice = createSlice({\n  name: \"dataSourceControl\",\n  initialState: {\n    currentTime: 1546273002,\n  },\n  reducers: {\n    setCurrentTime: (state, { payload }) => {\n      state.currentTime = payload;\n    },\n    reset: (state) => {\n      state.currentTime = 1546273002;\n    },\n  },\n});\n\n// export actions\nexport const {\n  toggleVesselView: toggleVesselViewActionCreator,\n  toggleMiniMapView: toggleMiniMapViewActionCreator,\n  setViewStates: setViewStatesActionCreator,\n  resetViewStates: resetViewStatesActionCreator,\n  storeActiveVesselViewStates: storeActiveVesselViewStatesActionCreator,\n} = mapViewSlice.actions;\n\nexport const {\n  toggleOpen: togglePanelOpenActionCreator,\n} = panelOpenSlice.actions;\n\nexport const {\n  toggleVisibility: toggleLayerVisibilityActionCreator,\n} = layerVisibilitySlice.actions;\n\nexport const { toggle: toggleThemeActionCreator } = themeSlice.actions;\n\nexport const {\n  toggle_filter: filterVesselTypeActionCreator,\n  search_filter: searchFilterActionCreator,\n  select_all: selectAllActionCreator,\n  deselect_all: deselectAllActionCreator,\n} = vesselTypeFilterSlice.actions;\n\nexport const {\n  set_risk_range: setVesselRiskFilterRangeActionCreator,\n  set_speed_range: setVesselSpeedFilterRangeActionCreator,\n} = vesselSliderFilterSlice.actions;\n\nexport const {\n  setMetadata: setMetadataActionCreator,\n  setCurrentFrame: setCurrentFrameActionCreator,\n  setLoadedFrames: setLoadedFramesActionCreator,\n  incrementLoadedFrames: incrementLoadedFramesActionCreator,\n} = framesSlice.actions;\n\nexport const {\n  setActivePath: setActivePathActionCreator,\n  setActiveFuturePath: setActiveFuturePathActionCreator,\n  setActiveHistoricalPath: setActiveHistoricalPathActionCreator,\n  setHighRiskPaths: setHighRiskPathsActionCreator,\n  setAlertPaths: setAlertPathsActionCreator,\n} = pathDataSlice.actions;\n\nexport const {\n  setAllVessels: setAllVesselsActionCreator,\n  setActiveVessels: setActiveVesselsActionCreator,\n  setAlertVessels: setAlertVesselsActionCreator,\n} = vesselDataSlice.actions;\n\nexport const {\n  setCurrentTime: setCurrentTimeActionCreator,\n  reset: resetActionCreator,\n} = dataSourceControlSlice.actions;\n\n// define reducers\nconst reducer = {\n  mapView: mapViewSlice.reducer,\n  panelOpen: panelOpenSlice.reducer,\n  layerVisibility: layerVisibilitySlice.reducer,\n  darkThemeEnabled: themeSlice.reducer,\n  vesselTypeFilter: vesselTypeFilterSlice.reducer,\n  vesselSliderFilter: vesselSliderFilterSlice.reducer,\n  frames: framesSlice.reducer,\n  pathData: pathDataSlice.reducer,\n  vesselData: vesselDataSlice.reducer,\n  dataSourceControl: dataSourceControlSlice.reducer,\n};\n\n// define middleware\n// const middleware = [...getDefaultMiddleware({ serializableCheck: false })];\nconst middleware = [thunk];\n// export store\nexport default configureStore({\n  reducer,\n  middleware,\n});\n","import { css } from \"styled-components\";\n\nexport const transition = \"all .4s ease\";\nexport const transitionFast = \"all .2s ease\";\nexport const transitionSlow = \"all .8s ease\";\n\nexport const boxShadow = \"0 1px 2px 0 rgba(0,0,0,0.10)\";\nexport const boxSizing = \"border-box\";\nexport const borderRadius = \"1px\";\nexport const borderColor = \"#3A414C\";\nexport const borderColorLT = \"#F1F1F1\";\n\n// TEXT\nexport const fontFamily = `ff-clan-web-pro, 'Helvetica Neue', Helvetica, sans-serif`;\nexport const fontWeight = 400;\nexport const fontSize = \"0.875em\";\nexport const lineHeight = 1.71429;\nexport const labelColor = \"#424242\";\nexport const labelHoverColor = \"#C6C6C6\";\nexport const labelColorLT = \"#EEEEEE\";\n\nexport const labelTextColor = \"#f7f7f7\";\nexport const labelTextColorLT = \"#3A414C\";\n\nexport const textColor = \"#A0A7B4\";\nexport const textColorLT = \"#3A414C\";\nexport const titleColorLT = \"#29323C\";\n\nexport const subtextColor = \"#6A7485\";\nexport const subtextColorLT = \"#A0A7B4\";\nexport const subtextColorActive = \"#FFFFFF\";\n\nexport const titleTextColor = \"#FFFFFF\";\nexport const textColorHl = \"#F0F0F0\";\nexport const textColorHlLT = \"#000000\";\nexport const activeColor = \"#0288D1\";\nexport const activeColorLT = \"#2473BD\";\nexport const activeColorHover = \"#108188\";\nexport const errorColor = \"#F9042C\";\nexport const logoColor = activeColor;\n\n// Button\nexport const primaryBtnBgd = \"#0F9668\";\nexport const primaryBtnActBgd = \"#13B17B\";\nexport const primaryBtnColor = \"#FFFFFF\";\nexport const primaryBtnActColor = \"#FFFFFF\";\nexport const primaryBtnBgdHover = \"#13B17B\";\nexport const primaryBtnRadius = \"2px\";\n\nexport const secondaryBtnBgd = \"#6A7485\";\nexport const secondaryBtnActBgd = \"#A0A7B4\";\nexport const secondaryBtnColor = \"#FFFFFF\";\nexport const secondaryBtnActColor = \"#FFFFFF\";\nexport const secondaryBtnBgdHover = \"#A0A7B4\";\n\nexport const linkBtnBgd = \"transparent\";\nexport const linkBtnActBgd = linkBtnBgd;\nexport const linkBtnColor = \"#A0A7B4\";\nexport const linkBtnActColor = \"#F1F1F1\";\nexport const linkBtnActBgdHover = linkBtnBgd;\n\nexport const negativeBtnBgd = errorColor;\nexport const negativeBtnActBgd = \"#FF193E\";\nexport const negativeBtnBgdHover = \"#FF193E\";\nexport const negativeBtnColor = \"#FFFFFF\";\nexport const negativeBtnActColor = \"#FFFFFF\";\n\nexport const floatingBtnBgd = \"#29323C\";\nexport const floatingBtnActBgd = \"#3A4552\";\nexport const floatingBtnBgdHover = \"#3A4552\";\nexport const floatingBtnColor = subtextColor;\nexport const floatingBtnActColor = subtextColorActive;\n\n// Input\nexport const inputBoxHeight = \"34px\";\nexport const inputBoxHeightSmall = \"24px\";\nexport const inputBoxHeightTiny = \"18px\";\nexport const inputPadding = \"4px 10px\";\nexport const inputPaddingSmall = \"4px 6px\";\nexport const inputPaddingTiny = \"2px 4px\";\nexport const inputFontSize = \"11px\";\nexport const inputFontSizeSmall = \"10px\";\nexport const inputFontWeight = 500;\nexport const inputBgd = \"#29323C\";\nexport const inputBgdHover = \"#3A414C\";\nexport const inputBgdActive = \"#3A414C\";\nexport const inputBorderColor = \"#29323C\";\nexport const inputBorderHoverColor = \"#3A414C\";\nexport const inputBorderActiveColor = \"#D3D8E0\";\nexport const inputColor = \"#A0A7B4\";\nexport const inputBorderRadius = \"1px\";\nexport const inputPlaceholderColor = \"#6A7485\";\nexport const inputPlaceholderFontWeight = 400;\n\nexport const secondaryInputBgd = \"#242730\";\nexport const secondaryInputBgdHover = \"#3A414C\";\nexport const secondaryInputBgdActive = \"#3A414C\";\nexport const secondaryInputColor = \"#A0A7B4\";\nexport const secondaryInputBorderColor = \"#242730\";\nexport const secondaryInputBorderActiveColor = \"#D3D8E0\";\n\nconst input = css`\n  align-items: center;\n  background-color: ${(props) => props.theme.inputBgd};\n  border: 1px solid\n    ${(props) =>\n      props.active\n        ? props.theme.inputBorderActiveColor\n        : props.error\n        ? props.theme.errorColor\n        : props.theme.inputBgd};\n  border-radius: 2px;\n  caret-color: ${(props) => props.theme.inputBorderActiveColor};\n  color: ${(props) => props.theme.inputColor};\n  display: flex;\n  font-size: ${(props) =>\n    [\"small\", \"tiny\"].includes(props.size)\n      ? props.theme.inputFontSizeSmall\n      : props.theme.inputFontSize};\n  font-weight: ${(props) => props.theme.inputFontWeight};\n  height: ${(props) =>\n    props.size === \"small\"\n      ? props.theme.inputBoxHeightSmall\n      : props.size === \"tiny\"\n      ? props.theme.inputBoxHeightTiny\n      : props.theme.inputBoxHeight};\n  justify-content: space-between;\n  outline: none;\n  overflow: hidden;\n  padding: ${(props) =>\n    props.size === \"small\"\n      ? props.theme.inputPaddingSmall\n      : props.size === \"tiny\"\n      ? props.theme.inputPaddingTiny\n      : props.theme.inputPadding};\n  text-overflow: ellipsis;\n  transition: ${(props) => props.theme.transition};\n  white-space: nowrap;\n  width: 100%;\n  word-wrap: normal;\n  pointer-events: ${(props) => (props.disabled ? \"none\" : \"all\")};\n  opacity: ${(props) => (props.disabled ? 0.5 : 1)};\n  :hover {\n    cursor: ${(props) => (props.type === \"number\" ? \"text\" : \"pointer\")};\n    background-color: ${(props) =>\n      props.active ? props.theme.inputBgdActive : props.theme.inputBgdHover};\n    border-color: ${(props) =>\n      props.active\n        ? props.theme.inputBorderActiveColor\n        : props.theme.inputBorderHoverColor};\n  }\n  :active,\n  :focus,\n  &.focus,\n  &.active {\n    background-color: ${(props) => props.theme.inputBgdActive};\n    border-color: ${(props) => props.theme.inputBorderActiveColor};\n  }\n  ::placeholder {\n    color: ${(props) => props.theme.inputPlaceholderColor};\n    font-weight: ${(props) => props.theme.inputPlaceholderFontWeight};\n  }\n  /* Disable Arrows on Number Inputs */\n  ::-webkit-inner-spin-button,\n  ::-webkit-outer-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n`;\n\nconst inputLT = css`\n  ${input}\n  background-color: ${(props) => props.theme.selectBackgroundLT};\n  border: 1px solid\n  ${(props) =>\n    props.active\n      ? props.theme.selectActiveBorderColor\n      : props.error\n      ? props.theme.errorColor\n      : props.theme.selectBorderColorLT};\n  color: ${(props) => props.theme.selectColorLT};\n  caret-color: ${(props) => props.theme.selectColorLT};\n  ::-webkit-input-placeholder {\n    color: ${(props) => props.theme.subtextColorLT};\n    font-weight: 400;\n  }\n  :active,\n  :focus,\n  &.focus,\n  &.active {\n    background-color: ${(props) => props.theme.selectBackgroundLT};\n    border-color: ${(props) => props.theme.textColorLT};\n  }\n  :hover {\n    background-color: ${(props) => props.theme.selectBackgroundLT};\n    cursor: ${(props) =>\n      [\"number\", \"text\"].includes(props.type) ? \"text\" : \"pointer\"};\n    border-color: ${(props) =>\n      props.active ? props.theme.textColorLT : props.theme.subtextColor};\n  }\n`;\n\n// Select\nexport const selectColor = inputColor;\nexport const selectColorLT = titleColorLT;\n\nexport const selectActiveBorderColor = \"#D3D8E0\";\nexport const selectFontSize = \"11px\";\nexport const selectFontWeight = \"400\";\nexport const selectFontWeightBold = \"500\";\n\nexport const selectColorPlaceHolder = \"#6A7485\";\nexport const selectBackground = inputBgd;\nexport const selectBackgroundHover = inputBgdHover;\nexport const selectBackgroundLT = \"#FFFFFF\";\nexport const selectBackgroundHoverLT = \"#F8F8F9\";\nexport const selectBorderColor = \"#D3D8E0\";\nexport const selectBorderColorLT = \"#D3D8E0\";\nexport const selectBorderRadius = \"1px\";\nexport const selectBorder = 0;\n\nexport const dropdownListHighlightBg = \"#6A7485\";\nexport const dropdownListHighlightBgLT = \"#F8F8F9\";\nexport const dropdownListShadow = \"0 6px 12px 0 rgba(0,0,0,0.16)\";\nexport const dropdownListBgd = \"#3A414C\";\nexport const dropdownListBgdLT = \"#FFFFFF\";\nexport const dropdownListBorderTop = \"#242730\";\nexport const dropdownWrapperZ = 100;\n\n// Checkbox\nexport const checkboxWidth = 16;\nexport const checkboxHeight = 16;\nexport const checkboxMargin = 12;\nexport const checkboxBorderColor = selectBorderColor;\nexport const checkboxBorderRadius = \"2px\";\nexport const checkboxBorderColorLT = selectBorderColorLT;\nexport const checkboxBoxBgd = \"white\";\nexport const checkboxBoxBgdChecked = primaryBtnBgd;\n\n// Side Panel\nexport const sidePanelHeaderBg = \"#303030\";\nexport const sidePanelInnerPadding = 10;\nexport const sidePanelBg = \"#212121\";\nexport const sidePanelScrollBarWidth = 10;\nexport const sidePanelScrollBarHeight = 10;\nexport const sideBarCloseBtnBgd = secondaryBtnBgd;\nexport const sideBarCloseBtnColor = \"#303030\";\nexport const sideBarCloseBtnBgdHover = secondaryBtnActBgd;\n\nexport const panelBackground = \"#212121\";\nexport const panelBackgroundHover = \"#3A4552\";\nexport const panelActiveBg = \"#3A4552\";\nexport const panelActiveBgLT = \"#6A7485\";\nexport const panelHeaderIcon = \"#6A7485\";\nexport const panelHeaderIconActive = \"#A0A7B4\";\nexport const panelHeaderHeight = 48;\nexport const panelBoxShadow = \"0 3px 6px 0 rgba(0,0,0,0.20)\";\nexport const panelBorderRadius = \"2px\";\nexport const panelBackgroundLT = \"#F8F8F9\";\n\nexport const panelBorderColor = \"#3A414C\";\nexport const panelBorder = `1px solid ${borderColor}`;\nexport const panelBorderLT = `1px solid ${borderColorLT}`;\n\nexport const mapPanelBackgroundColor = \"#242730\";\nexport const mapPanelHeaderBackgroundColor = \"#29323C\";\nexport const tooltipBg = \"#F8F8F9\";\nexport const tooltipColor = \"#333334\";\n\nexport const textTruncate = {\n  maxWidth: \"100%\",\n  overflow: \"hidden\",\n  textOverflow: \"ellipsis\",\n  whiteSpace: \"nowrap\",\n  wordWrap: \"normal\",\n};\n\nexport const DIMENSIONS = {\n  sidePanel: {\n    width: 300,\n    margin: { top: 20, left: 20, bottom: 30, right: 20 },\n    headerHeight: 96,\n  },\n  mapControl: {\n    width: 204,\n    padding: 12,\n  },\n};\n\n// MapBox Styles\nexport const mapStyle = \"mapbox://styles/mapbox/dark-v10\";\nexport const mapStyleLT = \"mapbox://styles/mapbox/light-v10\";\n\nexport const darkTheme = {\n  ...DIMENSIONS,\n  // Transitions\n  transition,\n  transitionFast,\n  transitionSlow,\n\n  // styles\n  activeColor,\n  activeColorHover,\n  borderRadius,\n  boxShadow,\n  errorColor,\n  dropdownListHighlightBg,\n  dropdownListHighlightBgLT,\n  dropdownListBgd,\n  dropdownListBgdLT,\n  dropdownListBorderTop,\n\n  labelColor,\n  labelHoverColor,\n  mapPanelBackgroundColor,\n  mapPanelHeaderBackgroundColor,\n\n  // Select\n  selectActiveBorderColor,\n  selectBackground,\n  selectBackgroundLT,\n  selectBackgroundHover,\n  selectBackgroundHoverLT,\n  selectBorder,\n  selectBorderColor,\n  selectBorderRadius,\n  selectBorderColorLT,\n  selectColor,\n  selectColorPlaceHolder,\n  selectFontSize,\n  selectFontWeight,\n  selectColorLT,\n  selectFontWeightBold,\n\n  // Input\n  inputBgd,\n  inputBgdHover,\n  inputBgdActive,\n  inputBoxHeight,\n  inputBoxHeightSmall,\n  inputBoxHeightTiny,\n  inputBorderColor,\n  inputBorderActiveColor,\n  inputBorderHoverColor,\n  inputBorderRadius,\n  inputColor,\n  inputPadding,\n  inputPaddingSmall,\n  inputPaddingTiny,\n  inputFontSize,\n  inputFontSizeSmall,\n  inputFontWeight,\n  inputPlaceholderColor,\n  inputPlaceholderFontWeight,\n\n  secondaryInputBgd,\n  secondaryInputBgdHover,\n  secondaryInputBgdActive,\n  secondaryInputColor,\n  secondaryInputBorderColor,\n  secondaryInputBorderActiveColor,\n\n  // Checkbox\n  checkboxWidth,\n  checkboxHeight,\n  checkboxMargin,\n  checkboxBorderColor,\n  checkboxBorderRadius,\n  checkboxBorderColorLT,\n  checkboxBoxBgd,\n  checkboxBoxBgdChecked,\n\n  // Button\n  primaryBtnBgd,\n  primaryBtnActBgd,\n  primaryBtnColor,\n  primaryBtnActColor,\n  primaryBtnBgdHover,\n  primaryBtnRadius,\n  secondaryBtnBgd,\n  secondaryBtnActBgd,\n  secondaryBtnBgdHover,\n  secondaryBtnColor,\n  secondaryBtnActColor,\n\n  negativeBtnBgd,\n  negativeBtnActBgd,\n  negativeBtnBgdHover,\n  negativeBtnColor,\n  negativeBtnActColor,\n\n  linkBtnBgd,\n  linkBtnActBgd,\n  linkBtnColor,\n  linkBtnActColor,\n  linkBtnActBgdHover,\n\n  floatingBtnBgd,\n  floatingBtnActBgd,\n  floatingBtnBgdHover,\n  floatingBtnColor,\n  floatingBtnActColor,\n\n  // Side Panel\n  sidePanelBg,\n  sidePanelInnerPadding,\n  sideBarCloseBtnBgd,\n  sideBarCloseBtnColor,\n  sideBarCloseBtnBgdHover,\n  sidePanelHeaderBg,\n  sidePanelScrollBarWidth,\n  sidePanelScrollBarHeight,\n\n  // Side Panel Panel\n  panelActiveBg,\n  panelBackground,\n  panelBackgroundHover,\n  panelBackgroundLT,\n  panelBoxShadow,\n  panelBorderRadius,\n  panelBorder,\n  panelBorderColor,\n  panelBorderLT,\n  panelHeaderIcon,\n  panelHeaderIconActive,\n  panelHeaderHeight,\n  // panelDropdownScrollBar,\n\n  // Text\n  fontFamily,\n  fontWeight,\n  fontSize,\n  lineHeight,\n  textColor,\n  textColorLT,\n  textColorHl,\n  titleTextColor,\n  subtextColor,\n  subtextColorLT,\n  subtextColorActive,\n  textTruncate,\n  titleColorLT,\n  tooltipBg,\n  tooltipColor,\n  logoColor,\n  labelTextColor,\n\n  // Map\n  mapStyle: mapStyle,\n};\n\nexport const lightTheme = {\n  ...darkTheme,\n  // template\n  activeColor: activeColorLT,\n  input: inputLT,\n  textColor: textColorLT,\n  sidePanelBg: \"#FFFFFF\",\n  selectColor: selectColorLT,\n  titleTextColor: \"#000000\",\n  sidePanelHeaderBg: \"#f2f2f2\",\n  subtextColorActive: activeColorLT,\n  tooltipBg: \"#1869B5\",\n  tooltipColor: \"#FFFFFF\",\n  dropdownListBgd: \"#FFFFFF\",\n  textColorHl: activeColorLT,\n  labelColor: labelColorLT,\n\n  inputBgd: \"#F7F7F7\",\n  inputBgdHover: \"#FFFFFF\",\n  inputBgdActive: \"#FFFFFF\",\n\n  dropdownListHighlightBg: \"#F0F0F0\",\n\n  panelBackground: \"#F7F7F7\",\n  panelBackgroundHover: \"#F7F7F7\",\n  panelBorderColor: \"#D3D8E0\",\n\n  sideBarCloseBtnBgd: \"#F7F7F7\",\n  sideBarCloseBtnColor: textColorLT,\n  sideBarCloseBtnBgdHover: \"#F7F7F7\",\n\n  secondaryInputBgd: \"#F7F7F7\",\n  secondaryInputBgdActive: \"#F7F7F7\",\n  secondaryInputBgdHover: \"#FFFFFF\",\n  secondaryInputBorderActiveColor: \"#000000\",\n  secondaryInputBorderColor: \"none\",\n  secondaryInputColor: \"#545454\",\n\n  panelActiveBg: \"#F7F7F7\",\n  mapPanelBackgroundColor: \"#FFFFFF\",\n  mapPanelHeaderBackgroundColor: \"#F7F7F7\",\n\n  sliderBarColor: \"#A0A7B4\",\n  sliderBarBgd: \"#D3D8E0\",\n  sliderHandleColor: \"#F7F7F7\",\n  sliderHandleHoverColor: \"#F7F7F7\",\n\n  subtextColor: subtextColorLT,\n  switchBtnBgd: \"#F7F7F7\",\n  secondarySwitchBtnBgd: \"#F7F7F7\",\n  secondarySwitchTrackBgd: \"#D3D8E0\",\n  switchBtnBgdActive: \"#F7F7F7\",\n  switchTrackBgd: \"#D3D8E0\",\n  switchTrackBgdActive: activeColorLT,\n\n  // button switch background and hover color\n  primaryBtnBgd: primaryBtnActBgd,\n  primaryBtnActBgd: primaryBtnBgd,\n  primaryBtnBgdHover: primaryBtnBgd,\n\n  secondaryBtnBgd: secondaryBtnActBgd,\n  secondaryBtnActBgd: secondaryBtnBgd,\n  secondaryBtnBgdHover: secondaryBtnBgd,\n\n  floatingBtnBgd: \"#F7F7F7\",\n  floatingBtnActBgd: \"#F7F7F7\",\n  floatingBtnBgdHover: \"#F7F7F7\",\n  floatingBtnColor: subtextColor,\n  floatingBtnActColor: activeColorLT,\n\n  linkBtnActColor: textColorLT,\n\n  rangeBrushBgd: \"#D3D8E0\",\n  histogramFillInRange: activeColorLT,\n  histogramFillOutRange: \"#A0A7B4\",\n\n  labelTextColor: labelTextColorLT,\n\n  // Map\n  mapStyle: mapStyleLT,\n};\n\nexport const mutedLightTheme = {\n  ...darkTheme,\n  activeColor: \"#E2E2E2\",\n  dropdownListBgd: \"#FFFFFF\",\n  dropdownListBorderTop: \"none\",\n  dropdownListHighlightBg: \"#F6F6F6\",\n  inputBgd: \"#E2E2E2\",\n  inputBgdActive: \"#E2E2E2\",\n  inputBgdHover: \"inherit\",\n  inputBorderActiveColor: \"#000000\",\n  inputColor: \"#000000\",\n  panelActiveBg: \"#E2E2E2\",\n  panelBackground: \"#FFFFFF\",\n  panelBackgroundHover: \"#EEEEEE\",\n  panelBorderColor: \"#E2E2E2\",\n  primaryBtnBgd: \"#E2E2E2\",\n  primaryBtnBgdHover: \"#333333\",\n  primaryBtnColor: \"#000000\",\n  secondaryBtnActBgd: \"#EEEEEE\",\n  secondaryBtnActColor: \"#000000\",\n  secondaryBtnBgd: \"#E2E2E2\",\n  secondaryBtnBgdHover: \"#CBCBCB\",\n\n  sideBarCloseBtnBgd: \"#E2E2E2\",\n  sideBarCloseBtnColor: \"#000000\",\n  sideBarCloseBtnBgdHover: \"#FFFFFF\",\n\n  floatingBtnBgd: \"#FFFFFF\",\n  floatingBtnActBgd: \"#EEEEEE\",\n  floatingBtnBgdHover: \"#EEEEEE\",\n  floatingBtnColor: \"#757575\",\n  floatingBtnActColor: \"#000000\",\n\n  secondaryBtnColor: \"#000000\",\n  secondaryInputBgd: \"#F6F6F6\",\n  secondaryInputBgdActive: \"#F6F6F6\",\n  secondaryInputBgdHover: \"#F6F6F6\",\n  secondaryInputBorderActiveColor: \"#000000\",\n  secondaryInputBorderColor: \"none\",\n  secondaryInputColor: \"#545454\",\n  sidePanelBg: \"#F6F6F6\",\n  sidePanelHeaderBg: \"#FFFFFF\",\n  subtextColor: \"#AFAFAF\",\n  subtextColorActive: \"#000000\",\n  textColor: \"#000000\",\n  textColorHl: \"#545454\",\n  mapPanelBackgroundColor: \"#F6F6F6\",\n  mapPanelHeaderBackgroundColor: \"#FFFFFF\",\n  titleTextColor: \"#000000\",\n  switchBtnBgdActive: \"#000000\",\n  switchBtnBgd: \"#FFFFFF\",\n  switchTrackBgdActive: \"#E2E2E2\",\n  secondarySwitchTrackBgd: \"#E2E2E2\",\n  switchTrackBgd: \"#E2E2E2\",\n  secondarySwitchBtnBgd: \"#FFFFFF\",\n  histogramFillInRange: \"#000000\",\n  histogramFillOutRange: \"#E2E2E2\",\n  rangeBrushBgd: \"#E2E2E2\",\n  sliderBarBgd: \"#E2E2E2\",\n  sliderHandleColor: \"#FFFFFF\",\n  sliderBarColor: \"#000000\",\n};\n","import { createGlobalStyle } from \"styled-components\";\n\nexport const GlobalStyle = createGlobalStyle`\nfont-family: ${(props) => props.theme.fontFamily};\nfont-weight: ${(props) => props.theme.fontWeight};\nfont-size: ${(props) => props.theme.fontSize};\nline-height: ${(props) => props.theme.lineHeight};\n*,\n*:before,\n*:after {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\nul {\n  margin: 0;\n  padding: 0;\n}\nli {\n  margin: 0;\n}\na {\n  text-decoration: none;\n  color: ${(props) => props.theme.labelColor};\n}\n`;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\n\nimport vessel_type_lookup from \"data/vessel_type_lookup.json\";\n\nconst StyledTooltipContainer = styled.div`\n  box-shadow: ${(props) => props.theme.panelBoxShadow};\n  align-items: stretch;\n  background-color: ${(props) => props.theme.sidePanelBg};\n  color: ${(props) => props.theme.textColor};\n  border-radius: 5px;\n  position: absolute;\n  z-index: 1000;\n  pointer-events: none;\n  padding: 10px;\n`;\n\nconst MapTooltip = ({ tooltipInfo }) => {\n  const {\n    objectType,\n    hoveredObject,\n    pointerX,\n    pointerY,\n    coordinate,\n  } = tooltipInfo;\n\n  const [size, setSize] = useState({\n    width: 200,\n    height: 250,\n  });\n\n  const tooltipComponent = useRef();\n\n  useEffect(() => {\n    const handleResize = () => {\n      setSize({\n        width: tooltipComponent.current.scrollWidth,\n        height: tooltipComponent.current.scrollHeight,\n      });\n    };\n\n    handleResize();\n\n    window.addEventListener(\"resize\", handleResize);\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, [tooltipComponent]);\n\n  const _getPosition = (x, y) => {\n    const topOffset = 5;\n    const leftOffset = 5;\n    const windowW = window.innerWidth;\n    const windowH = window.innerHeight;\n    const { width, height } = size;\n    const pos = {};\n    if (x + leftOffset + width > windowW) {\n      pos.right = windowW - x + leftOffset;\n    } else {\n      pos.left = x + leftOffset;\n    }\n\n    if (y + topOffset + height > windowH) {\n      pos.bottom = 10;\n    } else {\n      pos.top = y + topOffset;\n    }\n    return pos;\n  };\n\n  return (\n    <StyledTooltipContainer\n      ref={tooltipComponent}\n      style={{\n        ..._getPosition(pointerX, pointerY),\n      }}\n    >\n      {objectType === \"vessel\" && (\n        <div>\n          <div>\n            <b>MMSI</b>: {hoveredObject.mmsi}\n          </div>\n          <div>\n            <b>Ship Name</b>: {hoveredObject.shipname}\n          </div>\n          <div>\n            <b>Ship Type</b>: {vessel_type_lookup[hoveredObject.shiptype]} (\n            {hoveredObject.shiptype})\n          </div>\n          <div>\n            <b>Speed</b>: {hoveredObject.speed}\n          </div>\n          <div>\n            <b>Course</b>: {hoveredObject.course}\n          </div>\n          <div>\n            <b>Heading</b>: {hoveredObject.heading}\n          </div>\n          <div>\n            <b>Collision Risk</b>:{\" \"}\n            {Math.round((hoveredObject.risk + Number.EPSILON) * 100) / 100}\n          </div>\n          <div>\n            <b>Longitude</b>:{\" \"}\n            {Math.round((coordinate[0] + Number.EPSILON) * 100) / 100}\n          </div>\n          <div>\n            <b>Latitude</b>:{\" \"}\n            {Math.round((coordinate[1] + Number.EPSILON) * 100) / 100}\n          </div>\n        </div>\n      )}\n\n      {(objectType === \"anchorage\" ||\n        objectType === \"mooring\" ||\n        objectType === \"fairway\") && (\n        <div>\n          <div>\n            <b>Seamark Type</b>: {hoveredObject[\"seamark_type\"]}\n          </div>\n          <div>\n            <b>Name</b>: {hoveredObject.name}\n          </div>\n        </div>\n      )}\n    </StyledTooltipContainer>\n  );\n};\n\nexport default MapTooltip;\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport \"mapbox-gl/dist/mapbox-gl.css\";\r\nimport StaticMap, { TRANSITION_EVENTS } from \"react-map-gl\";\r\nimport DeckGL from \"@deck.gl/react\";\r\nimport {\r\n  IconLayer,\r\n  PathLayer,\r\n  HeatmapLayer,\r\n  ScreenGridLayer,\r\n  HexagonLayer,\r\n  PolygonLayer,\r\n  TextLayer,\r\n  COORDINATE_SYSTEM,\r\n  FlyToInterpolator,\r\n} from \"deck.gl\";\r\nimport { PathStyleExtension } from \"@deck.gl/extensions\";\r\nimport { View, MapView } from \"@deck.gl/core\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  setViewStatesActionCreator,\r\n  storeActiveVesselViewStatesActionCreator,\r\n  setActivePathActionCreator,\r\n  setActiveFuturePathActionCreator,\r\n  setActiveHistoricalPathActionCreator,\r\n  setHighRiskPathsActionCreator,\r\n  setAlertPathsActionCreator,\r\n  setActiveVesselsActionCreator,\r\n  setAlertVesselsActionCreator,\r\n} from \"app/Redux\";\r\n\r\nimport MapTooltip from \"./MapTooltip\";\r\n\r\nimport dataFairways from \"data/seamark_fairways.json\";\r\nimport dataLanes from \"data/seamark_lanes.json\";\r\nimport dataLaneBoundaries from \"data/seamark_separation.json\";\r\nimport dataAnchorages from \"data/seamark_anchorages.json\";\r\nimport dataMooringAreas from \"data/seamark_mooring_areas.json\";\r\n// import dataUnionMooringAreas from \"data/seamark_mooring_areas_1.json\";\r\nimport vesselTypeLookup from \"data/vessel_type_lookup.json\";\r\nimport mmsiTypeLookup from \"data/mmsi_type_lookup.json\";\r\n\r\nconst FRAMES_DIR =\r\n  \"https://raw.githubusercontent.com/jakkarintiew/frames-data/master/frames_20s/\";\r\n\r\nconst MapContainer = ({ closeEncounters, mapStyle }) => {\r\n  // Set your mapbox access token here\r\n  const MAPBOX_ACCESS_TOKEN = process.env.REACT_APP_MAPBOX_ACCESS_TOKEN;\r\n  // Redux states\r\n  const dispatch = useDispatch();\r\n  const layerVisibility = useSelector((state) => state.layerVisibility);\r\n  const mapView = useSelector((state) => state.mapView);\r\n  const vesselTypeFilter = useSelector((state) => state.vesselTypeFilter);\r\n  const vesselSliderFilter = useSelector((state) => state.vesselSliderFilter);\r\n  const currentFrame = useSelector((state) => state.frames.currentFrame);\r\n  const allVessels = useSelector((state) => state.vesselData.allVesselData);\r\n  const activeVessels = useSelector(\r\n    (state) => state.vesselData.activeVesselData\r\n  );\r\n  const activePathData = useSelector((state) => state.pathData.activePathData);\r\n  const activeFuturePath = useSelector(\r\n    (state) => state.pathData.activeFuturePath\r\n  );\r\n  const activeHistoricalPath = useSelector(\r\n    (state) => state.pathData.activeHistoricalPath\r\n  );\r\n  const highRiskPaths = useSelector((state) => state.pathData.highRiskPathData);\r\n  const alertVessels = useSelector((state) => state.vesselData.alertVesselData);\r\n  const alertPaths = useSelector((state) => state.pathData.alertPathData);\r\n  const alertColors = useSelector((state) => state.vesselData.alertColors);\r\n  const setActiveVessels = (vessel) => {\r\n    dispatch(setActiveVesselsActionCreator(vessel));\r\n  };\r\n  const setAlertVessels = (vessel) => {\r\n    dispatch(setAlertVesselsActionCreator(vessel));\r\n  };\r\n\r\n  const setViewStates = (newViewState) => {\r\n    dispatch(setViewStatesActionCreator(newViewState));\r\n  };\r\n  const storeActiveVesselViewStates = (vesselViewState) => {\r\n    dispatch(storeActiveVesselViewStatesActionCreator(vesselViewState));\r\n  };\r\n  const setActivePath = (path) => {\r\n    dispatch(setActivePathActionCreator(path));\r\n  };\r\n  const setActiveFuturePath = (path) => {\r\n    dispatch(setActiveFuturePathActionCreator(path));\r\n  };\r\n  const setActiveHistoricalPath = (path) => {\r\n    dispatch(setActiveHistoricalPathActionCreator(path));\r\n  };\r\n  const setHighRiskPaths = (paths) => {\r\n    dispatch(setHighRiskPathsActionCreator(paths));\r\n  };\r\n  const setAlertPaths = (paths) => {\r\n    dispatch(setAlertPathsActionCreator(paths));\r\n  };\r\n\r\n  // View states functions\r\n  const onViewStateChange = ({ viewId, viewState }) => {\r\n    // console.log(viewId);\r\n    // console.log(viewState);\r\n\r\n    const currentViewStates = mapView.viewStates;\r\n\r\n    if (viewId === \"main\") {\r\n      setViewStates({\r\n        main: viewState,\r\n        minimap: {\r\n          ...currentViewStates.minimap,\r\n          // longitude: viewState.longitude,\r\n          // latitude: viewState.latitude,\r\n        },\r\n      });\r\n    } else {\r\n      setViewStates({\r\n        main: {\r\n          ...currentViewStates.main,\r\n          // longitude: viewState.longitude,\r\n          // latitude: viewState.latitude,\r\n        },\r\n        minimap: viewState,\r\n      });\r\n    }\r\n  };\r\n\r\n  const VIEWS = [\r\n    new MapView({\r\n      id: \"main\",\r\n      controller: true,\r\n    }),\r\n    mapView.miniMapViewEnabled &&\r\n      new MapView({\r\n        id: \"minimap\",\r\n        x: \"17%\",\r\n        y: \"65%\",\r\n        width: \"300px\",\r\n        height: \"300px\",\r\n        controller: true,\r\n        clear: true,\r\n      }),\r\n  ].filter(Boolean);\r\n\r\n  const updateVesselViewState = (vesselViewState) => {\r\n    if (mapView.vesselViewEnabled) {\r\n      setViewStates({\r\n        main: { ...vesselViewState },\r\n        minimap: { ...vesselViewState, pitch: 0, bearing: 0 },\r\n      });\r\n    } else {\r\n      setViewStates({\r\n        main: { ...mapView.viewStates.main },\r\n        minimap: { ...vesselViewState, zoom: 10, pitch: 0, bearing: 0 },\r\n      });\r\n    }\r\n    storeActiveVesselViewStates({\r\n      main: { ...vesselViewState },\r\n      minimap: { ...vesselViewState, zoom: 10, pitch: 0, bearing: 0 },\r\n    });\r\n  };\r\n\r\n  // Vessel data\r\n  const visibleVessels = allVessels.filter((vessel) => {\r\n    const visibleTypes = vesselTypeFilter.map((vessel) => {\r\n      return vessel.filterState ? vessel.vesselType : null;\r\n    });\r\n    return (\r\n      visibleTypes.includes(vesselTypeLookup[vessel.shiptype]) &&\r\n      vessel.risk >= vesselSliderFilter.risk[0] &&\r\n      vessel.risk <= vesselSliderFilter.risk[1] &&\r\n      vessel.speed >= vesselSliderFilter.speed[0] &&\r\n      vessel.speed <= vesselSliderFilter.speed[1]\r\n    );\r\n  });\r\n\r\n  const movingVessels = visibleVessels.filter((vessel) => {\r\n    return vessel.speed >= 1;\r\n  });\r\n\r\n  const stoppedVessels = visibleVessels.filter((vessel) => {\r\n    return vessel.speed < 1;\r\n  });\r\n\r\n  const highRiskVessels = movingVessels.filter((vessel) => {\r\n    return vessel.risk > 75;\r\n  });\r\n\r\n  const pathDataInitialState = [\r\n    {\r\n      path: [],\r\n      timestamps: [],\r\n      speed: [],\r\n      heading: [],\r\n      course: [],\r\n      risk: [],\r\n    },\r\n  ];\r\n\r\n  const getPath = async (vesselID) => {\r\n    try {\r\n      const promisePath = await axios.get(\r\n        FRAMES_DIR + `paths_new/${vesselID}_path.json`\r\n      );\r\n      return promisePath.data;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const getFuturePath = (pathData) => {\r\n    let currentIndex = pathData.findIndex((obj) => obj.frame === currentFrame);\r\n    let filteredPath;\r\n    for (let index = currentIndex; index <= pathData.length - 1; index++) {\r\n      if (currentIndex === pathData.length - 1) {\r\n        return pathDataInitialState;\r\n      } else if (\r\n        index === pathData.length - 1 ||\r\n        pathData[index + 1].frame - pathData[index].frame > 1\r\n      ) {\r\n        filteredPath = pathData.filter((elem) => {\r\n          return (\r\n            elem.frame >= currentFrame && elem.frame <= pathData[index].frame\r\n          );\r\n        });\r\n        return [\r\n          {\r\n            path: filteredPath.map((frame) => [\r\n              frame.longitude,\r\n              frame.latitude,\r\n            ]),\r\n            timestamps: filteredPath.map((frame) => frame.timestamp),\r\n            speed: filteredPath.map((frame) => frame.speed),\r\n            heading: filteredPath.map((frame) => frame.heading),\r\n            course: filteredPath.map((frame) => frame.course),\r\n            risk: filteredPath.map((frame) => frame.risk),\r\n          },\r\n        ];\r\n      }\r\n    }\r\n  };\r\n\r\n  const getHistoricalPath = (pathData) => {\r\n    let currentIndex = pathData.findIndex((obj) => obj.frame === currentFrame);\r\n    let filteredPath;\r\n    for (let index = currentIndex; index >= 0; index--) {\r\n      if (currentIndex === 0) {\r\n        return pathDataInitialState;\r\n      } else if (\r\n        index === 0 ||\r\n        pathData[index].frame - pathData[index - 1].frame > 1\r\n      ) {\r\n        filteredPath = pathData.filter((elem) => {\r\n          return (\r\n            elem.frame >= pathData[index].frame && elem.frame <= currentFrame\r\n          );\r\n        });\r\n        return [\r\n          {\r\n            path: filteredPath.map((frame) => [\r\n              frame.longitude,\r\n              frame.latitude,\r\n            ]),\r\n            timestamps: filteredPath.map((frame) => frame.timestamp),\r\n            speed: filteredPath.map((frame) => frame.speed),\r\n            heading: filteredPath.map((frame) => frame.heading),\r\n            course: filteredPath.map((frame) => frame.course),\r\n            risk: filteredPath.map((frame) => frame.risk),\r\n          },\r\n        ];\r\n      }\r\n    }\r\n  };\r\n\r\n  const apiGetHistoricalPath = async (vessel) => {\r\n    try {\r\n      const response = await axios({\r\n        method: \"post\",\r\n        url:\r\n          \"https://cors-anywhere.herokuapp.com/http://52.163.54.65:80/api/v1/service/history/score\",\r\n        data: {\r\n          time_stamp_int: [vessel.timestamp / 1000],\r\n          mmsi: [vessel.mmsi],\r\n        },\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${process.env.REACT_APP_HISTORY_API_KEY}`,\r\n        },\r\n      });\r\n      let data = JSON.parse(response.data).map((vessel) => ({\r\n        mmsi: vessel.mmsi,\r\n        shipname: vessel.mmsi,\r\n        shiptype: mmsiTypeLookup.find((v) => v.mmsi === vessel.mmsi)\r\n          ? mmsiTypeLookup.find((v) => v.mmsi === vessel.mmsi).code\r\n          : \"UKNOWN TYPE\",\r\n        longitude: vessel.lon,\r\n        latitude: vessel.lat,\r\n        speed: vessel.speed,\r\n        course: vessel.course,\r\n        heading: vessel.heading,\r\n        risk: Math.random() * 100,\r\n        timestamp: vessel.time_stamp_int * 1000,\r\n      }));\r\n\r\n      let path = [\r\n        {\r\n          path: data.map((frame) => [frame.longitude, frame.latitude]),\r\n          timestamps: data.map((frame) => frame.timestamp),\r\n          speed: data.map((frame) => frame.speed),\r\n          heading: data.map((frame) => frame.heading),\r\n          course: data.map((frame) => frame.course),\r\n          risk: data.map((frame) => frame.risk),\r\n        },\r\n      ];\r\n\r\n      return path;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const getHighRiskPaths = (highRiskVessels) => {\r\n    const promiseRiskPaths = [];\r\n    const newRiskPaths = [];\r\n    highRiskVessels.forEach((vessel) => {\r\n      promiseRiskPaths.push(getPath(vessel.mmsi));\r\n    });\r\n\r\n    Promise.all(promiseRiskPaths)\r\n      .then((responses) => {\r\n        responses.forEach((path) => {\r\n          newRiskPaths.push(getFuturePath(path)[0]);\r\n        });\r\n        setHighRiskPaths(newRiskPaths);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  // useEffect(() => {\r\n  //   setHighRiskPaths([]);\r\n  //   if (layerVisibility.riskPath.visible) {\r\n  //     getHighRiskPaths(highRiskVessels);\r\n  //   }\r\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  // }, [allVessels, layerVisibility]);\r\n\r\n  // useEffect(() => {\r\n  //   if (activePathData.length > 0) {\r\n  //     setActiveFuturePath(getFuturePath(activePathData));\r\n  //     setActiveHistoricalPath(getHistoricalPath(activePathData));\r\n\r\n  //     if (activeVessels.length !== 0) {\r\n  //       const newActiveVessel = visibleVessels.filter((vessel) => {\r\n  //         return vessel.mmsi === activeVessels[0].mmsi;\r\n  //       });\r\n  //       setActiveVessels(newActiveVessel);\r\n  //       const vesselViewState = {\r\n  //         longitude: newActiveVessel[0].longitude,\r\n  //         latitude: newActiveVessel[0].latitude,\r\n  //         zoom: 13,\r\n  //         pitch: 60,\r\n  //         bearing: newActiveVessel[0].heading,\r\n  //         transitionDuration: 500,\r\n  //         transitionInterruption: TRANSITION_EVENTS.UPDATE,\r\n  //         transitionInterpolator: new FlyToInterpolator(),\r\n  //       };\r\n  //       updateVesselViewState(vesselViewState);\r\n  //     }\r\n\r\n  //     if (alertVessels.length !== 0) {\r\n  //       const newAlertVessels = allVessels.filter((vessel) => {\r\n  //         return alertVessels.map((v) => v.mmsi).includes(vessel.mmsi);\r\n  //       });\r\n  //       setAlertVessels(newAlertVessels);\r\n  //       // Get paths\r\n  //       let alertPathsPromises = [];\r\n  //       let newAlertPaths = [];\r\n\r\n  //       newAlertVessels.forEach((vessel) => {\r\n  //         alertPathsPromises.push(getPath(vessel.mmsi));\r\n  //       });\r\n\r\n  //       Promise.all(alertPathsPromises)\r\n  //         .then((responses) => {\r\n  //           responses.forEach((path) => {\r\n  //             newAlertPaths.push(getFuturePath(path)[0]);\r\n  //           });\r\n  //           setAlertPaths(newAlertPaths);\r\n  //         })\r\n  //         .catch((error) => console.log(error));\r\n  //     }\r\n  //   }\r\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  // }, [currentFrame]);\r\n\r\n  let activeMMSI = null;\r\n  if (activeVessels.length > 0) {\r\n    activeMMSI = activeVessels[0].mmsi;\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (activeMMSI) {\r\n      // Promise.resolve(getPath(activeVessels[0].mmsi)).then((response) => {\r\n      //   setActivePath(response);\r\n      //   setActiveFuturePath(getFuturePath(response));\r\n      //   setActiveHistoricalPath(getHistoricalPath(response));\r\n      // });\r\n\r\n      Promise.resolve(apiGetHistoricalPath(activeVessels[0])).then(\r\n        (response) => {\r\n          setActiveHistoricalPath(response);\r\n        }\r\n      );\r\n\r\n      const vesselViewState = {\r\n        longitude: activeVessels[0].longitude,\r\n        latitude: activeVessels[0].latitude,\r\n        zoom: 13,\r\n        pitch: 60,\r\n        bearing: activeVessels[0].heading,\r\n        transitionDuration: 500,\r\n        transitionInterruption: TRANSITION_EVENTS.UPDATE,\r\n        transitionInterpolator: new FlyToInterpolator(),\r\n      };\r\n      updateVesselViewState(vesselViewState);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [activeMMSI]);\r\n\r\n  const clickVesselEvent = (mmsi) => {\r\n    // Reset\r\n    setActivePath(pathDataInitialState);\r\n    setActiveFuturePath(pathDataInitialState);\r\n    setActiveHistoricalPath(pathDataInitialState);\r\n    setAlertPaths([]);\r\n    setAlertVessels([]);\r\n    const newActiveVessel = visibleVessels.filter((vessel) => {\r\n      return vessel.mmsi === mmsi;\r\n    });\r\n    setActiveVessels(newActiveVessel);\r\n  };\r\n\r\n  const clickAlertEvent = (object) => {\r\n    // Reset active vessel\r\n    setActiveVessels([]);\r\n\r\n    // Zoom to event\r\n    setViewStates({\r\n      main: {\r\n        ...mapView.viewStates.main,\r\n        longitude: object.vessel_1_longitude,\r\n        latitude: object.vessel_1_latitude,\r\n        zoom: 12,\r\n        pitch: 0,\r\n        bearing: 0,\r\n        transitionDuration: 500,\r\n        transitionInterruption: TRANSITION_EVENTS.UPDATE,\r\n        transitionInterpolator: new FlyToInterpolator(),\r\n      },\r\n      minimap: {\r\n        ...mapView.viewStates.minimap,\r\n        longitude: object.vessel_1_longitude,\r\n        latitude: object.vessel_1_latitude,\r\n      },\r\n    });\r\n\r\n    // Get vessels\r\n    setAlertVessels(\r\n      allVessels.filter((vessel) => {\r\n        return (\r\n          vessel.mmsi === object.vessel_1_mmsi ||\r\n          vessel.mmsi === object.vessel_2_mmsi\r\n        );\r\n      })\r\n    );\r\n\r\n    // Get paths\r\n    let alertPathsPromises = [];\r\n    let newAlertPaths = [];\r\n    alertPathsPromises.push(getPath(object.vessel_1_mmsi));\r\n    alertPathsPromises.push(getPath(object.vessel_2_mmsi));\r\n\r\n    Promise.all(alertPathsPromises)\r\n      .then((responses) => {\r\n        responses.forEach((path) => {\r\n          newAlertPaths.push(getFuturePath(path)[0]);\r\n        });\r\n        setAlertPaths(newAlertPaths);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  const [tooltipInfo, setTooltipInfo] = useState({\r\n    objectType: \"\",\r\n    hoveredObject: \"\",\r\n    pointerX: 0.0,\r\n    pointerY: 0.0,\r\n    coordinate: [0.0, 0.0],\r\n  });\r\n\r\n  const renderTooltip = () => {\r\n    const { hoveredObject } = tooltipInfo;\r\n    return hoveredObject && <MapTooltip tooltipInfo={tooltipInfo} />;\r\n  };\r\n\r\n  const layers = [\r\n    layerVisibility.fairwayPolygon.visible &&\r\n      new PolygonLayer({\r\n        id: \"fairways-polygon-layer\",\r\n        data: dataFairways,\r\n        stroked: true,\r\n        filled: true,\r\n        lineWidthMinPixels: 1,\r\n        getPolygon: (d) => d.coordinates,\r\n        getFillColor: [200, 152, 210, 100],\r\n        getLineColor: [180, 132, 190],\r\n        getLineWidth: 1,\r\n        pickable: true,\r\n        autoHighlight: true,\r\n        highlightColor: [220, 182, 225, 200],\r\n        onHover: (info) =>\r\n          setTooltipInfo({\r\n            objectType: \"fairway\",\r\n            hoveredObject: info.object,\r\n            pointerX: info.x,\r\n            pointerY: info.y,\r\n            coordinate: info.centroid,\r\n          }),\r\n      }),\r\n    layerVisibility.lanePolygon.visible &&\r\n      new PathLayer({\r\n        id: \"lanes-path-layer\",\r\n        data: dataLanes,\r\n        getPath: (d) => d.coordinates,\r\n        getColor: [180, 132, 190],\r\n        opacity: 1,\r\n        getWidth: 2,\r\n        rounded: false,\r\n        widthMinPixels: 2,\r\n        coordinateSystem: COORDINATE_SYSTEM.LNGLAT,\r\n        pickable: true,\r\n        autoHighlight: true,\r\n        highlightColor: [250, 182, 255, 220],\r\n        onHover: (info) =>\r\n          setTooltipInfo({\r\n            objectType: \"fairway\",\r\n            hoveredObject: info.object,\r\n            pointerX: info.x,\r\n            pointerY: info.y,\r\n            coordinate: info.centroid,\r\n          }),\r\n      }),\r\n    layerVisibility.lanePolygon.visible &&\r\n      new PathLayer({\r\n        id: \"lane-boundary-path-layer\",\r\n        data: dataLaneBoundaries,\r\n        getPath: (d) => d.coordinates,\r\n        getColor: [140, 140, 140],\r\n        opacity: 1,\r\n        getWidth: 1,\r\n        rounded: false,\r\n        widthMinPixels: 1,\r\n        coordinateSystem: COORDINATE_SYSTEM.LNGLAT,\r\n        pickable: true,\r\n        autoHighlight: true,\r\n        highlightColor: [180, 180, 180, 220],\r\n        onHover: (info) =>\r\n          setTooltipInfo({\r\n            objectType: \"fairway\",\r\n            hoveredObject: info.object,\r\n            pointerX: info.x,\r\n            pointerY: info.y,\r\n            coordinate: info.centroid,\r\n          }),\r\n        getDashArray: [10, 10],\r\n        dashJustified: true,\r\n        extensions: [new PathStyleExtension({ dash: true })],\r\n      }),\r\n    layerVisibility.mooringPolygon.visible &&\r\n      new PolygonLayer({\r\n        id: \"mooring-polygon-layer\",\r\n        data: dataMooringAreas,\r\n        stroked: true,\r\n        filled: true,\r\n        lineWidthMinPixels: 1,\r\n        getPolygon: (d) => d.coordinates,\r\n        getFillColor: [225, 225, 255, 100],\r\n        getLineColor: [130, 130, 190],\r\n        getLineWidth: 1,\r\n        pickable: true,\r\n        autoHighlight: true,\r\n        highlightColor: [225, 225, 255, 220],\r\n        onHover: (info) =>\r\n          setTooltipInfo({\r\n            objectType: \"mooring\",\r\n            hoveredObject: info.object,\r\n            pointerX: info.x,\r\n            pointerY: info.y,\r\n            coordinate: info.centroid,\r\n          }),\r\n      }),\r\n    layerVisibility.anchorangePolygon.visible &&\r\n      new PolygonLayer({\r\n        id: \"anchorages-polygon-layer\",\r\n        data: dataAnchorages,\r\n        stroked: true,\r\n        filled: true,\r\n        lineWidthMinPixels: 1,\r\n        getPolygon: (d) => d.coordinates,\r\n        getFillColor: [225, 255, 225, 100],\r\n        getLineColor: [130, 190, 130],\r\n        getLineWidth: 1,\r\n        pickable: true,\r\n        autoHighlight: true,\r\n        highlightColor: [225, 255, 225, 220],\r\n        onHover: (info) =>\r\n          setTooltipInfo({\r\n            objectType: \"anchorage\",\r\n            hoveredObject: info.object,\r\n            pointerX: info.x,\r\n            pointerY: info.y,\r\n            coordinate: info.centroid,\r\n          }),\r\n      }),\r\n    layerVisibility.anchorangePolygon.visible &&\r\n      new TextLayer({\r\n        id: \"anchorages-text-layer\",\r\n        data: dataAnchorages,\r\n        pickable: true,\r\n        getPosition: (d) => [...d.centroid, 200],\r\n        getText: (d) => d.name,\r\n        getColor: [110, 110, 110],\r\n        sizeUnits: \"meters\",\r\n        getSize: 150,\r\n        getAngle: 0,\r\n        wordBreak: \"break-word\",\r\n        maxWidth: 600,\r\n        getTextAnchor: \"middle\",\r\n        getAlignmentBaseline: \"center\",\r\n      }),\r\n    layerVisibility.riskHeatmap.visible &&\r\n      new HeatmapLayer({\r\n        id: \"risk-heatmap-layer\",\r\n        data: movingVessels.filter((vessel) => vessel.risk > 50),\r\n        getPosition: (d) => [d.longitude, d.latitude],\r\n        getWeight: (d) => d.risk,\r\n        radiusPixels: 50,\r\n        // 5000 /\r\n        // (78271.484 * Math.exp(-0.6932415 * mapView.viewStates.main.zoom)),\r\n        opacity: 0.1,\r\n        intensity: 1,\r\n        threshold: 0.01,\r\n      }),\r\n    layerVisibility.riskScreenGrid.visible &&\r\n      new ScreenGridLayer({\r\n        id: \"risk-screen-grid-layer\",\r\n        data: highRiskVessels,\r\n        pickable: false,\r\n        opacity: 0.15,\r\n        cellSizePixels: 64,\r\n        getPosition: (d) => [d.longitude, d.latitude],\r\n      }),\r\n    layerVisibility.riskHexagon.visible &&\r\n      new HexagonLayer({\r\n        id: \"risk-hexagon-layer\",\r\n        data: highRiskVessels,\r\n        lowerPercentile: 0,\r\n        extruded: false,\r\n        radius:\r\n          78271.484 * Math.exp(-0.6932415 * mapView.viewStates.main.zoom) * 50,\r\n        opacity: 0.15,\r\n        coverage: 0.98,\r\n        getPosition: (d) => [d.longitude, d.latitude],\r\n      }),\r\n    layerVisibility.riskPath.visible &&\r\n      new PathLayer({\r\n        id: \"risk-path-border-layer\",\r\n        data: highRiskPaths,\r\n        getPath: (d) => d.path,\r\n        getColor: [141, 0, 0],\r\n        opacity: 1,\r\n        widthUnits: \"meters\",\r\n        getWidth: 80,\r\n        rounded: true,\r\n        widthMinPixels: 7,\r\n        coordinateSystem: COORDINATE_SYSTEM.LNGLAT,\r\n      }),\r\n    layerVisibility.riskPath.visible &&\r\n      new PathLayer({\r\n        id: \"risk-path-layer\",\r\n        data: highRiskPaths,\r\n        getPath: (d) => d.path,\r\n        getColor: [252, 72, 80],\r\n        opacity: 1,\r\n        widthUnits: \"meters\",\r\n        getWidth: 60,\r\n        rounded: true,\r\n        widthMinPixels: 5,\r\n        coordinateSystem: COORDINATE_SYSTEM.LNGLAT,\r\n      }),\r\n    layerVisibility.alertIcon.visible &&\r\n      new PathLayer({\r\n        id: \"alert-path-border-layer\",\r\n        data: alertPaths,\r\n        getPath: (d) => d.path,\r\n        getColor: (d) => alertColors[alertPaths.indexOf(d)].borderRGB,\r\n        widthUnits: \"meters\",\r\n        getWidth: 80,\r\n        rounded: true,\r\n        widthMinPixels: 9,\r\n        coordinateSystem: COORDINATE_SYSTEM.LNGLAT,\r\n      }),\r\n    layerVisibility.alertIcon.visible &&\r\n      new PathLayer({\r\n        id: \"alert-path-layer\",\r\n        data: alertPaths,\r\n        getPath: (d) => d.path,\r\n        getColor: (d) => alertColors[alertPaths.indexOf(d)].fillRGB,\r\n        widthUnits: \"meters\",\r\n        getWidth: 60,\r\n        rounded: true,\r\n        widthMinPixels: 6,\r\n        coordinateSystem: COORDINATE_SYSTEM.LNGLAT,\r\n      }),\r\n    layerVisibility.alertIcon.visible &&\r\n      new IconLayer({\r\n        id: \"warning-icon-layer\",\r\n        data: closeEncounters,\r\n        coordinateSystem: COORDINATE_SYSTEM.LNGLAT,\r\n        iconAtlas: require(\"img/warning_red.png\"),\r\n        iconMapping: {\r\n          warningMarker: { x: 0, y: 0, width: 300, height: 300, mask: false },\r\n        },\r\n        getIcon: (d) => \"warningMarker\",\r\n        getPosition: (d) => [\r\n          (d.vessel_1_longitude + d.vessel_2_longitude) / 2,\r\n          (d.vessel_1_latitude + d.vessel_2_latitude) / 2,\r\n          200,\r\n        ],\r\n        getSize: (d) => 600,\r\n        sizeUnits: \"meters\",\r\n        sizeScale: 1,\r\n        sizeMinPixels: 30,\r\n        sizeMaxPixels: 400,\r\n        billboard: true,\r\n        pickable: true,\r\n        onClick: (info) => clickAlertEvent(info.object),\r\n      }),\r\n    activeVessels.length > 0 &&\r\n      layerVisibility.historicalPath.visible &&\r\n      new PathLayer({\r\n        id: \"historical-path-border-layer\",\r\n        data: activeHistoricalPath,\r\n        getPath: (d) => d.path,\r\n        getColor: [100, 100, 100],\r\n        opacity: 1,\r\n        widthUnits: \"meters\",\r\n        getWidth: 80,\r\n        rounded: true,\r\n        widthMinPixels: 9,\r\n        coordinateSystem: COORDINATE_SYSTEM.LNGLAT,\r\n      }),\r\n    activeVessels.length > 0 &&\r\n      layerVisibility.historicalPath.visible &&\r\n      new PathLayer({\r\n        id: \"historical-path-layer\",\r\n        data: activeHistoricalPath,\r\n        getPath: (d) => d.path,\r\n        getColor: [150, 150, 150],\r\n        opacity: 1,\r\n        widthUnits: \"meters\",\r\n        getWidth: 60,\r\n        rounded: true,\r\n        widthMinPixels: 6,\r\n        coordinateSystem: COORDINATE_SYSTEM.LNGLAT,\r\n      }),\r\n    activeVessels.length > 0 &&\r\n      layerVisibility.futurePath.visible &&\r\n      new PathLayer({\r\n        id: \"future-path-border-layer\",\r\n        data: activeFuturePath,\r\n        getPath: (d) => d.path,\r\n        getColor: [25, 120, 180],\r\n        widthUnits: \"meters\",\r\n        getWidth: 80,\r\n        rounded: true,\r\n        widthMinPixels: 9,\r\n        coordinateSystem: COORDINATE_SYSTEM.LNGLAT,\r\n      }),\r\n    activeVessels.length > 0 &&\r\n      layerVisibility.futurePath.visible &&\r\n      new PathLayer({\r\n        id: \"future-path-layer\",\r\n        data: activeFuturePath,\r\n        getPath: (d) => d.path,\r\n        getColor: [41, 168, 255],\r\n        widthUnits: \"meters\",\r\n        getWidth: 60,\r\n        rounded: true,\r\n        widthMinPixels: 6,\r\n        coordinateSystem: COORDINATE_SYSTEM.LNGLAT,\r\n      }),\r\n    layerVisibility.stoppedVesselIcon.visible &&\r\n      new IconLayer({\r\n        id: \"stopped-vessel-icon-border-layer\",\r\n        data: stoppedVessels,\r\n        coordinateSystem: COORDINATE_SYSTEM.LNGLAT,\r\n        iconAtlas: require(\"img/vessel_marker.png\"),\r\n        iconMapping: {\r\n          vesselMarker: { x: 0, y: 0, width: 512, height: 512, mask: true },\r\n        },\r\n        getColor: (d) => [255, 255, 255, 255],\r\n        getIcon: (d) => \"vesselMarker\",\r\n        getPosition: (d) => [d.longitude, d.latitude, 0],\r\n        getAngle: (d) => 360 - d.heading,\r\n        getSize: (d) => 300,\r\n        sizeUnits: \"meters\",\r\n        sizeScale: 1.8,\r\n        sizeMinPixels: 14,\r\n        pickable: true,\r\n        billboard: false,\r\n        onHover: (info) =>\r\n          setTooltipInfo({\r\n            objectType: \"vessel\",\r\n            hoveredObject: info.object,\r\n            pointerX: info.x,\r\n            pointerY: info.y,\r\n            coordinate: info.coordinate,\r\n          }),\r\n        onClick: (info) => clickVesselEvent(info.object.mmsi),\r\n      }),\r\n    layerVisibility.stoppedVesselIcon.visible &&\r\n      new IconLayer({\r\n        id: \"stopped-vessel-icon-layer\",\r\n        data: stoppedVessels,\r\n        coordinateSystem: COORDINATE_SYSTEM.LNGLAT,\r\n        iconAtlas: require(\"img/vessel_marker.png\"),\r\n        iconMapping: {\r\n          vesselMarker: { x: 0, y: 0, width: 512, height: 512, mask: true },\r\n        },\r\n        getColor: [120, 120, 120, 255],\r\n        getIcon: (d) => \"vesselMarker\",\r\n        getPosition: (d) => [d.longitude, d.latitude, 0],\r\n        getAngle: (d) => 360 - d.heading,\r\n        getSize: (d) => 300,\r\n        sizeUnits: \"meters\",\r\n        sizeScale: 1,\r\n        sizeMinPixels: 8,\r\n        pickable: true,\r\n        billboard: false,\r\n        onHover: (info) =>\r\n          setTooltipInfo({\r\n            objectType: \"vessel\",\r\n            hoveredObject: info.object,\r\n            pointerX: info.x,\r\n            pointerY: info.y,\r\n            coordinate: info.coordinate,\r\n          }),\r\n        onClick: (info) => clickVesselEvent(info.object.mmsi),\r\n      }),\r\n    layerVisibility.movingVesselIcon.visible &&\r\n      new IconLayer({\r\n        id: \"vessel-icon-border-layer\",\r\n        data: movingVessels,\r\n        coordinateSystem: COORDINATE_SYSTEM.LNGLAT,\r\n        iconAtlas: require(\"img/vessel_marker.png\"),\r\n        iconMapping: {\r\n          vesselMarker: { x: 0, y: 0, width: 512, height: 512, mask: true },\r\n        },\r\n        getColor: (d) => [255, 255, 255, 255],\r\n        getIcon: (d) => \"vesselMarker\",\r\n        getPosition: (d) => [d.longitude, d.latitude, 0],\r\n        getAngle: (d) => 360 - d.heading,\r\n        getSize: (d) => 300,\r\n        sizeUnits: \"meters\",\r\n        sizeScale: 1.8,\r\n        sizeMinPixels: 14,\r\n        pickable: true,\r\n        billboard: false,\r\n        onHover: (info) =>\r\n          setTooltipInfo({\r\n            objectType: \"vessel\",\r\n            hoveredObject: info.object,\r\n            pointerX: info.x,\r\n            pointerY: info.y,\r\n            coordinate: info.coordinate,\r\n          }),\r\n        onClick: (info) => clickVesselEvent(info.object.mmsi),\r\n      }),\r\n    layerVisibility.movingVesselIcon.visible &&\r\n      new IconLayer({\r\n        id: \"vessel-icon-layer\",\r\n        data: movingVessels,\r\n        coordinateSystem: COORDINATE_SYSTEM.LNGLAT,\r\n        iconAtlas: require(\"img/vessel_marker.png\"),\r\n        iconMapping: {\r\n          vesselMarker: { x: 0, y: 0, width: 512, height: 512, mask: true },\r\n        },\r\n        getColor: (d) =>\r\n          activeVessels.filter((vessel) => {\r\n            return vessel.mmsi === d.mmsi;\r\n          }).length > 0\r\n            ? [89, 173, 255]\r\n            : alertVessels.filter((vessel) => {\r\n                return vessel.mmsi === d.mmsi;\r\n              }).length > 0\r\n            ? alertColors[\r\n                alertVessels.indexOf(\r\n                  alertVessels.find((vessel) => {\r\n                    return vessel.mmsi === d.mmsi;\r\n                  })\r\n                )\r\n              ].fillRGB\r\n            : d.risk > 75\r\n            ? [252, 40, 20]\r\n            : d.risk > 50\r\n            ? [255, 160, 0]\r\n            : [52, 199, 89],\r\n        getIcon: (d) => \"vesselMarker\",\r\n        getPosition: (d) => [d.longitude, d.latitude, 0],\r\n        getAngle: (d) => 360 - d.heading,\r\n        getSize: (d) => 300,\r\n        sizeUnits: \"meters\",\r\n        sizeScale: 1,\r\n        sizeMinPixels: 8,\r\n        pickable: true,\r\n        billboard: false,\r\n        onHover: (info) =>\r\n          setTooltipInfo({\r\n            objectType: \"vessel\",\r\n            hoveredObject: info.object,\r\n            pointerX: info.x,\r\n            pointerY: info.y,\r\n            coordinate: info.coordinate,\r\n          }),\r\n        onClick: (info) => clickVesselEvent(info.object.mmsi),\r\n      }),\r\n  ].filter(Boolean);\r\n\r\n  return (\r\n    <DeckGL\r\n      views={VIEWS}\r\n      layers={layers}\r\n      controller={true}\r\n      getCursor={() => \"crosshair\"}\r\n      viewState={mapView.viewStates}\r\n      onViewStateChange={onViewStateChange}\r\n    >\r\n      <StaticMap\r\n        reuseMaps\r\n        mapStyle={mapStyle}\r\n        preventStyleDiffing={true}\r\n        mapboxApiAccessToken={MAPBOX_ACCESS_TOKEN}\r\n      ></StaticMap>\r\n      <View id=\"minimap\">\r\n        <StaticMap\r\n          reuseMaps\r\n          mapStyle={mapStyle}\r\n          preventStyleDiffing={true}\r\n          mapboxApiAccessToken={MAPBOX_ACCESS_TOKEN}\r\n        />\r\n      </View>\r\n      {renderTooltip()}\r\n    </DeckGL>\r\n  );\r\n};\r\n\r\nexport default MapContainer;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\n\r\nconst LogoTitle = styled.div`\r\n  display: inline-block;\r\n  margin-left: 6px;\r\n`;\r\n\r\nconst LogoName = styled.div`\r\n  .logo__link {\r\n    color: ${(props) => props.theme.textColor};\r\n    font-size: 32px;\r\n    font-weight: 250;\r\n    letter-spacing: 2px;\r\n    text-decoration: none;\r\n  }\r\n`;\r\nconst LogoVersion = styled.div`\r\n  font-size: 10px;\r\n  color: ${(props) => props.theme.subtextColor};\r\n  letter-spacing: 0.83px;\r\n  line-height: 14px;\r\n`;\r\n\r\nconst LogoWrapper = styled.div`\r\n  display: flex;\r\n  align-items: flex-start;\r\n`;\r\n\r\n// const LogoSvgWrapper = styled.div`\r\n//   margin-top: 3px;\r\n// `;\r\n\r\n// const LogoSvg = () => (\r\n//   <svg className=\"side-panel-logo__logo\" width=\"22px\" height=\"15px\" viewBox=\"0 0 22 15\">\r\n//     <g transform=\"translate(11, -3) rotate(45.000000)\">\r\n//       <rect fill=\"#535C6C\" x=\"0\" y=\"5\" width=\"10\" height=\"10\" />\r\n//       <rect fill=\"#1FBAD6\" x=\"5\" y=\"0\" width=\"10\" height=\"10\" />\r\n//     </g>\r\n//   </svg>\r\n// );\r\n\r\nconst VCASLogo = ({ appName, appWebsite, version }) => (\r\n  <LogoWrapper className=\"side-panel-logo\">\r\n    {/* <LogoSvgWrapper>\r\n      <MapIcon style={{fill: \"white\", verticalAlign: 'middle'}} />\r\n    </LogoSvgWrapper> */}\r\n    <LogoTitle className=\"logo__title\">\r\n      <LogoName className=\"logo__name\">\r\n        <a\r\n          className=\"logo__link\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          href={appWebsite}\r\n        >\r\n          {appName}\r\n        </a>\r\n      </LogoName>\r\n      {version ? (\r\n        <LogoVersion className=\"logo__version\">{version}</LogoVersion>\r\n      ) : null}\r\n    </LogoTitle>\r\n  </LogoWrapper>\r\n);\r\n\r\nVCASLogo.propTypes = {\r\n  appName: PropTypes.string,\r\n  version: PropTypes.string,\r\n  appWebsite: PropTypes.string,\r\n};\r\n\r\nVCASLogo.defaultProps = {\r\n  appName: \"VCAS\",\r\n  version: \"0.0.1\",\r\n  appWebsite: \"https://www.eng.nus.edu.sg/c4ngp/\",\r\n};\r\n\r\nexport default VCASLogo;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport VCASLogo from \"./Logo\";\r\n\r\nconst StyledPanelHeader = styled.div`\r\n  background-color: ${(props) => props.theme.sidePanelHeaderBg};\r\n  padding: 12px 16px 12px 16px;\r\n  border-radius: 5px 5px 0px 0px;\r\n`;\r\n\r\nconst StyledPanelHeaderTop = styled.div`\r\n  display: flex;\r\n  background-color: ${(props) => props.theme.sidePanelHeaderBg};\r\n  justify-content: space-between;\r\n  margin-bottom: 16px;\r\n  width: 100%;\r\n`;\r\n\r\nconst PanelHeader = () => {\r\n  return (\r\n    <StyledPanelHeader>\r\n      <StyledPanelHeaderTop>\r\n        <VCASLogo />\r\n      </StyledPanelHeaderTop>\r\n    </StyledPanelHeader>\r\n  );\r\n};\r\n\r\nexport default PanelHeader;\r\n","import React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport styled from \"styled-components\";\n\nimport \"date-fns\";\nimport DateFnsUtils from \"@date-io/date-fns\";\n\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDateTimePicker,\n} from \"@material-ui/pickers\";\n\nimport { setCurrentTimeActionCreator, resetActionCreator } from \"app/Redux\";\n\nconst DataSourceWidgetContainer = styled.div`\n  background-color: ${(props) => props.theme.sidePanelHeaderBg};\n  color: ${(props) => props.theme.textColor};\n  padding: 6px;\n  margin-bottom: 8px;\n`;\n\nconst StyledLabel = styled.div`\n  background-color: ${(props) => props.theme.labelColor};\n  color: ${(props) => props.theme.labelTextColor};\n  font-size: 0.75em;\n  font-weight: 500;\n  padding: 3px 5px 3px 5px;\n  height: 25px;\n  width: 100px;\n`;\n\nconst StyledInput = styled.input`\n  color: ${(props) => props.theme.textColor};\n  background-color: ${(props) => props.theme.sidePanelBg};\n  font-size: 0.75em;\n  height: 25px;\n  padding: 2px;\n  border: none;\n  :focus {\n    outline: 0;\n  }\n`;\n\n// const StyledDateTimePicker = styled(function ({ className, onChange, value }) {\n//   return (\n//     <DateTimePicker\n//       className={\"flex-auto \" + className}\n//       autoFocus={false}\n//       calendarIcon={null}\n//       disableClock={true}\n//       format={\"yyyy/MM/dd H:mm:ss\"}\n//       calendarClassName={className}\n//       onChange={(event, newValue) => onChange(newValue)}\n//       value={value}\n//     />\n//   );\n// })`\n//   font-size: 0.75em;\n\n//   .react-datetime-picker__wrapper {\n//     background-color: ${(props) => props.theme.sidePanelBg};\n//     color: ${(props) => props.theme.textColor};\n//     border: none;\n//   }\n\n//   .react-datetime-picker__inputGroup__input {\n//     color: ${(props) => props.theme.textColor};\n//     :focus {\n//       outline: 0;\n//     }\n//   }\n\n//   .react-datetime-picker__inputGroup__input:invalid {\n//     background-color: ${(props) => props.theme.sidePanelBg};\n//   }\n\n//   .react-datetime-picker__button {\n//     border: 0;\n//     background: transparent;\n//     padding: 4px 6px;\n//     :focus {\n//       outline: 0;\n//     }\n//   }\n//   .react-datetime-picker__button:enabled {\n//     cursor: pointer;\n//   }\n//   .react-datetime-picker__button__icon {\n//     height: 12px;\n//     stroke: ${(props) => props.theme.textColor};\n//   }\n//   .react-datetime-picker__button:enabled:hover\n//     .react-datetime-picker__button__icon {\n//     stroke: ${(props) => props.theme.textColor};\n//   }\n//   ,\n//   .react-datetime-picker__button:enabled:focus\n//     .react-datetime-picker__button__icon {\n//     stroke: ${(props) => props.theme.textColor};\n//   }\n\n//   .react-datetime-picker__calendar .react-calendar {\n//     padding: 2px;\n//     margin: 0px;\n//     font-size: 0.8em;\n//     box-shadow: ${(props) => props.theme.panelBoxShadow};\n//     background-color: ${(props) => props.theme.sidePanelBg};\n//     color: ${(props) => props.theme.textColor};\n//     border: none;\n//   }\n// `;\n\nconst StyledButton = styled.button`\n  box-shadow: ${(props) => props.theme.boxShadow};\n  background: ${(props) => props.theme.primaryBtnBgd};\n  color: ${(props) => props.theme.primaryBtnColor};\n  font-size: 0.75em;\n  border: none;\n  border-radius: 6px;\n  :focus {\n    outline: 0;\n  }\n`;\n\nconst StyledKeyboardDateTimePicker = styled(KeyboardDateTimePicker)`\n  height: 25px;\n  width: 270px;\n  border: none;\n  & .MuiInputBase-input {\n    background-color: ${(props) => props.theme.sidePanelBg};\n    color: ${(props) => props.theme.textColor};\n    padding-left: 5px;\n    font-size: 0.8em;\n  }\n  & .muipickerstoolbar-toolbar: {\n    background-color: ${\"#0A9DFF\"};\n  }\n`;\n\nconst DataSourceControl = () => {\n  // const initalState = \"\";\n  // const [startTime, setStartTime] = useState(initalState);\n  // const [endTime, setEndTime] = useState(initalState);\n  // const [interval, setInterval] = useState(initalState);\n\n  const currentTime = useSelector(\n    (state) => state.dataSourceControl.currentTime\n  );\n\n  // Redux state\n  const dispatch = useDispatch();\n  const setCurrentTime = (time) => {\n    dispatch(setCurrentTimeActionCreator(Date.parse(time) / 1000));\n  };\n\n  const resetInputs = () => {\n    dispatch(resetActionCreator());\n  };\n\n  // const resetInputs = () => {\n  //   setStartTime(initalState);\n  //   setEndTime(initalState);\n  //   setInterval(initalState);\n  // };\n\n  // const loadData = () => {\n  //   console.log(\"Load data...\");\n  // };\n\n  return (\n    <DataSourceWidgetContainer>\n      <div className=\"px-1 mb-1\">\n        <b>Data Source</b>\n      </div>\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\n        <div className=\"px-1 mb-8 flex flex-row items-stretch\">\n          {/* <StyledLabel className=\"flex-none\">Set Time</StyledLabel> */}\n          <StyledKeyboardDateTimePicker\n            autoOk\n            ampm={false}\n            variant=\"inline\"\n            margin=\"dense\"\n            label=\"Set Time\"\n            value={new Date(currentTime * 1000)}\n            onChange={(event, newValue) => setCurrentTime(newValue)}\n            format=\"dd-MM-yyyy HH:mm:ss\"\n            InputProps={{\n              disableUnderline: true,\n            }}\n          />\n        </div>\n      </MuiPickersUtilsProvider>\n      {/* <div className=\"mb-1 flex flex-row items-stretch\">\n        <StyledLabel className=\"flex-none\">Start Time</StyledLabel>\n        <StyledDateTimePicker onChange={setStartTime} value={startTime} />\n      </div>\n      <div className=\"mb-1 flex flex-row items-stretch\">\n        <StyledLabel className=\"flex-none\">End Time</StyledLabel>\n        <StyledDateTimePicker onChange={setEndTime} value={endTime} />\n      </div>\n      <div className=\"mb-1 flex flex-row items-stretch\">\n        <StyledLabel className=\"flex-none\">Refresh Interval</StyledLabel>\n        <StyledInput\n          value={interval}\n          onChange={(event) => setInterval(event.target.value)}\n          type=\"search\"\n          placeholder=\"Set interval in seconds...\"\n          className=\"pl-2 flex-auto\"\n        />\n      </div> */}\n      <div className=\"py-1\">\n        <StyledButton className=\"px-2 mr-2\" onClick={resetInputs}>\n          Reset\n        </StyledButton>\n        {/* <StyledButton className=\"px-2 mr-2\" onClick={loadData}>\n          Load Data\n        </StyledButton> */}\n      </div>\n    </DataSourceWidgetContainer>\n  );\n};\n\nexport default DataSourceControl;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport Chip from \"@material-ui/core/Chip\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport NotInterestedIcon from \"@material-ui/icons/NotInterested\";\nimport { Scrollbars } from \"react-custom-scrollbars\";\n\nimport {\n  filterVesselTypeActionCreator,\n  searchFilterActionCreator,\n  selectAllActionCreator,\n  deselectAllActionCreator,\n} from \"app/Redux\";\n\nconst FilterWidgetContainer = styled.div`\n  background-color: ${(props) => props.theme.sidePanelHeaderBg};\n  color: ${(props) => props.theme.textColor};\n  padding: 6px;\n  margin-bottom: 8px;\n  height: 300px;\n`;\n\nconst ChipsContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: left;\n  list-style: none;\n  margin: 0px;\n  padding: 0px;\n  line-height: 1.1em;\n`;\n\nconst StyledChip = styled(Chip)`\n  background: ${(props) =>\n    props.filterstate === \"true\" ? \"#0A9DFF\" : \"#c9c9c9\"};\n  color: ${(props) => (props.filterstate === \"true\" ? \"#ffffff\" : \"#808080\")};\n  font-size: 0.7em;\n  :focus {\n    background: ${(props) =>\n      props.filterstate === \"true\" ? \"#0A9DFF\" : \"#c9c9c9\"};\n  }\n  :hover {\n    background: ${(props) =>\n      props.filterstate === \"true\" ? \"#42baff\" : \"#e3e3e3\"};\n  }\n  min-width: auto;\n  min-height: auto;\n  height: 18px;\n  line-height: 1em;\n  margin-left: 0px;\n  margin-right: 1px;\n  margin-top: 0px;\n  margin-bottom: 0px;\n  transition: ${(props) => props.theme.transition};\n`;\n\nconst FilterInput = styled.input`\n  color: ${(props) => props.theme.textColor};\n  background-color: ${(props) => props.theme.sidePanelBg};\n  font-size: 0.75em;\n  border: none;\n  border-radius: 3px;\n  :focus {\n    outline: 0;\n  }\n`;\n\nconst SelectAllButton = styled.button`\n  box-shadow: ${(props) => props.theme.boxShadow};\n  background: ${(props) => props.theme.primaryBtnBgd};\n  color: ${(props) => props.theme.primaryBtnColor};\n  font-size: 0.75em;\n  border: none;\n  border-radius: 6px;\n  :focus {\n    outline: 0;\n  }\n`;\n\nconst VesselTypeFilter = () => {\n  // Redux states\n  const dispatch = useDispatch();\n  const vesselTypeFilter = useSelector((state) => state.vesselTypeFilter);\n  const visibleTypes = vesselTypeFilter.filter((elem) => elem.visible);\n\n  const toggleFilter = (vesselType) => {\n    dispatch(filterVesselTypeActionCreator(vesselType));\n  };\n\n  const searchFilter = (searchStr) => {\n    dispatch(searchFilterActionCreator(searchStr));\n  };\n\n  const selectAll = () => {\n    dispatch(selectAllActionCreator());\n  };\n\n  const deselectAll = () => {\n    dispatch(deselectAllActionCreator());\n  };\n\n  const handleChipClick = (vesselType) => () => {\n    toggleFilter(vesselType);\n  };\n\n  return (\n    <FilterWidgetContainer className=\"flex flex-col items-stretch\">\n      <div className=\"px-1 mb-1\">\n        <b>Vessel Type Filters</b>\n      </div>\n      <FilterInput\n        type=\"search\"\n        placeholder=\"Search vessel type...\"\n        className=\"px-2 mb-1 w-full\"\n        onChange={(e) => searchFilter(e.target.value)}\n      />\n      <div>\n        <SelectAllButton className=\"px-2 mb-2 mr-2\" onClick={selectAll}>\n          Select All\n        </SelectAllButton>\n        <SelectAllButton className=\"px-2 mb-2 mr-2\" onClick={deselectAll}>\n          Deselect All\n        </SelectAllButton>\n      </div>\n      <Scrollbars\n        autoHide\n        autoHideDuration={200}\n        autoHideTimeout={200}\n        style={{ height: \"100%\" }}\n      >\n        <ChipsContainer>\n          {visibleTypes.map((vessel) => {\n            return (\n              <li key={vessel.vesselType}>\n                <StyledChip\n                  size=\"small\"\n                  icon={\n                    vessel.filterState ? (\n                      <DoneIcon style={{ color: \"#ffffff\" }} />\n                    ) : (\n                      <NotInterestedIcon style={{ color: \"#808080\" }} />\n                    )\n                  }\n                  label={vessel.vesselType}\n                  onClick={handleChipClick(vessel.vesselType)}\n                  clickable\n                  disableRipple\n                  filterstate={vessel.filterState.toString()}\n                />\n              </li>\n            );\n          })}\n        </ChipsContainer>\n      </Scrollbars>\n    </FilterWidgetContainer>\n  );\n};\n\nexport default VesselTypeFilter;\n","import React from \"react\";\nimport { Bar } from \"react-chartjs-2\";\n\nfunction histogram(data, size, domain) {\n  let min = domain[0];\n  let max = domain[1];\n\n  const bins = Math.floor((max - min + 1) / size);\n\n  var histogram = [];\n  for (let i = min; i < bins; i++) {\n    histogram.push({\n      bin: i * size,\n      count: 0,\n    });\n  }\n\n  for (const item of data) {\n    const index = histogram.findIndex(\n      (elem) => elem.bin === Math.floor((item - min) / size) * size\n    );\n    histogram[index].count++;\n  }\n\n  return histogram;\n}\n\nconst FilterHistogram = (props) => {\n  const { data, domain, binSize, highlight } = props;\n\n  var hist = histogram(data, binSize, domain);\n\n  var chart_data = {\n    labels: hist.map(\n      (elem) =>\n        \"[\" + elem.bin.toString() + \",\" + (elem.bin + binSize).toString() + \")\"\n    ),\n    datasets: [\n      {\n        label: \"Count\",\n        data: hist.map((elem) => elem.count),\n        backgroundColor: hist.map((elem) =>\n          elem.bin >= highlight[0] && elem.bin <= highlight[1]\n            ? \"#29a9ff\"\n            : \"#c9c9c9\"\n        ),\n      },\n    ],\n  };\n\n  var options = {\n    responsive: true,\n    maintainAspectRatio: false,\n    animation: {\n      duration: 0,\n    },\n    legend: {\n      display: false,\n    },\n    scales: {\n      xAxes: [\n        {\n          display: false,\n        },\n      ],\n      yAxes: [\n        {\n          display: false,\n          ticks: {\n            min: 0,\n          },\n        },\n      ],\n    },\n  };\n\n  return (\n    <div className=\"px-1\">\n      <Bar data={chart_data} height={80} options={options} />\n    </div>\n  );\n};\n\nexport default FilterHistogram;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Slider from \"@material-ui/core/Slider\";\n\nimport FilterHistogram from \"./FilterHistogram\";\n\n// const StyledSlider = styled(Slider)`\n//   color: #29a9ff;\n//   min-height: 0px;\n//   height: 5px;\n//   padding-top: 0px;\n//   padding-bottom: 3px;\n// `;\n\nconst StyledSlider = withStyles({\n  root: {\n    color: \"#29a9ff\",\n    height: 4,\n    paddingTop: 1,\n    paddingBottom: 0,\n  },\n  thumb: {\n    height: 14,\n    width: 14,\n    backgroundColor: \"#fff\",\n    border: \"2px solid currentColor\",\n    marginTop: -18,\n    marginLeft: -6,\n    \"&:focus, &:hover, &$active\": {\n      boxShadow: \"inherit\",\n    },\n  },\n  active: {},\n  track: {\n    marginTop: -14,\n    height: 3,\n    borderRadius: 2,\n  },\n  rail: {\n    marginTop: -14,\n    height: 3,\n    borderRadius: 2,\n    backgroundColor: \"#c9c9c9\",\n    opacity: \"100%\",\n  },\n})(Slider);\n\nconst FilterInput = styled.input`\n  color: ${(props) => props.theme.textColor};\n  background-color: ${(props) => props.theme.sidePanelBg};\n  font-size: 0.75em;\n  width: 50px;\n  border: none;\n  border-radius: 3px;\n  :focus {\n    outline: 0;\n  }\n`;\n\nconst ResetButton = styled.button`\n  box-shadow: ${(props) => props.theme.boxShadow};\n  background: ${(props) => props.theme.primaryBtnBgd};\n  color: ${(props) => props.theme.primaryBtnColor};\n  font-size: 0.75em;\n  border: none;\n  border-radius: 6px;\n  :focus {\n    outline: 0;\n  }\n`;\n\nconst SliderFilter = (props) => {\n  const { data, domain, binSize, reduxRange, setReduxRange } = props;\n  const [sliderRange, setSliderRange] = useState(reduxRange);\n  const [inputRange, setInputRange] = useState(reduxRange);\n\n  const handleSliderChange = (event, value) => {\n    setSliderRange(value);\n    setInputRange(value);\n    setReduxRange(value);\n  };\n\n  const handleMinField = (min) => {\n    const oldRange = sliderRange;\n    const max = oldRange[1];\n\n    if (min >= domain[1]) min = domain[1];\n    if (min < domain[0]) min = domain[0];\n    if (isNaN(min)) min = \"\";\n\n    setInputRange([min, max]);\n\n    if (min <= max) {\n      setSliderRange([min, max]);\n      setReduxRange([min, max]);\n    } else {\n      setSliderRange([oldRange[0], max]);\n      setReduxRange([oldRange[0], max]);\n    }\n  };\n\n  const handleMaxField = (max) => {\n    const oldRange = sliderRange;\n    const min = oldRange[0];\n\n    if (max <= domain[0]) max = domain[0];\n    if (max > domain[1]) max = domain[1];\n    if (isNaN(max)) max = \"\";\n\n    setInputRange([min, max]);\n\n    if (max >= min) {\n      setSliderRange([min, max]);\n      setReduxRange([min, max]);\n    } else {\n      setSliderRange([min, oldRange[1]]);\n      setReduxRange([min, oldRange[1]]);\n    }\n  };\n\n  const reset = () => {\n    setSliderRange(domain);\n    setInputRange(domain);\n    setReduxRange(domain);\n  };\n  return (\n    <div>\n      <div className=\"px-1\">\n        <FilterHistogram\n          data={data}\n          domain={domain}\n          binSize={binSize}\n          highlight={sliderRange}\n        />\n        <div className=\"px-1\">\n          <StyledSlider\n            value={sliderRange}\n            min={domain[0]}\n            max={domain[1]}\n            onChange={handleSliderChange}\n            valueLabelDisplay=\"off\"\n          />\n        </div>\n        <div className=\"flex flex-row items-center justify-between -mt-4\">\n          <FilterInput\n            value={inputRange[0]}\n            placeholder=\"Min\"\n            className=\"px-2\"\n            onChange={(e) => handleMinField(parseFloat(e.target.value))}\n          />\n          <ResetButton className=\"px-2 m-2\" onClick={reset}>\n            Reset\n          </ResetButton>\n          <FilterInput\n            value={inputRange[1]}\n            placeholder=\"Max\"\n            className=\"px-2\"\n            onChange={(e) => handleMaxField(parseFloat(e.target.value))}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SliderFilter;\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport styled from \"styled-components\";\n\nimport {\n  setVesselRiskFilterRangeActionCreator,\n  setVesselSpeedFilterRangeActionCreator,\n} from \"app/Redux\";\nimport SliderFilter from \"./SliderFilter\";\n\nconst FilterWidgetContainer = styled.div`\n  background-color: ${(props) => props.theme.sidePanelHeaderBg};\n  color: ${(props) => props.theme.textColor};\n  padding: 6px;\n  margin-bottom: 8px;\n  max-height: 250px;\n`;\n\nconst VesselSliderFilters = ({ vesselsData }) => {\n  // Redux state\n  const dispatch = useDispatch();\n  const vesselSliderFilter = useSelector((state) => state.vesselSliderFilter);\n\n  const setRiskRange = (newRange) => {\n    dispatch(setVesselRiskFilterRangeActionCreator(newRange));\n  };\n  const setSpeedRange = (newRange) => {\n    dispatch(setVesselSpeedFilterRangeActionCreator(newRange));\n  };\n\n  const riskData = vesselsData.map(({ risk }) => risk);\n  const riskDomain = [0, 100];\n  const riskBinSize = 5;\n\n  const speedData = vesselsData.map(({ speed }) => speed);\n  const speedDomain = [0, 35];\n  const speedBinSize = 2.5;\n\n  return (\n    <div>\n      <FilterWidgetContainer>\n        <div className=\"px-1 mb-1\">\n          <b>Vessel Risk Filter</b>\n        </div>\n        <SliderFilter\n          data={riskData}\n          domain={riskDomain}\n          binSize={riskBinSize}\n          reduxRange={vesselSliderFilter.risk}\n          setReduxRange={setRiskRange}\n        />\n      </FilterWidgetContainer>\n      <FilterWidgetContainer>\n        <div className=\"px-1 mb-1\">\n          <b>Vessel Speed Filter</b>\n        </div>\n        <SliderFilter\n          data={speedData}\n          domain={speedDomain}\n          binSize={speedBinSize}\n          reduxRange={vesselSliderFilter.speed}\n          setReduxRange={setSpeedRange}\n        />\n      </FilterWidgetContainer>\n    </div>\n  );\n};\n\nexport default VesselSliderFilters;\n","import React from \"react\";\n\nimport styled from \"styled-components\";\n\nimport DataSourceControl from \"./DataSourceControl\";\nimport VesselTypeFilter from \"./VesselTypeFilter\";\nimport VesselSliderFilters from \"./VesselSliderFilters\";\n\nconst StyledPanelContent = styled.div`\n  background-color: ${(props) => props.theme.sidePanelBg};\n  width: 100%;\n  height: 100%;\n  color: ${(props) => props.theme.textColor};\n`;\n\nconst DataManagerPanel = ({ vesselsData }) => {\n  return (\n    <StyledPanelContent>\n      <DataSourceControl />\n      <VesselTypeFilter />\n      <VesselSliderFilters vesselsData={vesselsData} />\n    </StyledPanelContent>\n  );\n};\nexport default DataManagerPanel;\n","// Copyright (c) 2020 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\nconst getStyleClassFromColor = (totalColor, colors) =>\n  new Array(totalColor)\n    .fill(1)\n    .reduce((accu, c, i) => `${accu}.cr${i + 1} {fill:${colors[i % colors.length]};}`, '');\n\nexport default class Base extends Component {\n  static displayName = 'Base Icon';\n\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string,\n    /** Set the width of the icon, ex. '16px' */\n    width: PropTypes.string,\n    /** Set the viewbox of the svg */\n    viewBox: PropTypes.string,\n    /** Path element */\n    children: PropTypes.node,\n\n    predefinedClassName: PropTypes.string,\n    className: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: null,\n    width: null,\n    viewBox: '0 0 64 64',\n    predefinedClassName: '',\n    className: '',\n    style: {\n      fill: 'currentColor'\n    }\n  };\n\n  render() {\n    const {\n      height,\n      width,\n      viewBox,\n      style,\n      children,\n      predefinedClassName,\n      className,\n      colors,\n      totalColor,\n      ...props\n    } = this.props;\n    const svgHeight = height;\n    const svgWidth = width || svgHeight;\n\n    const fillStyle =\n      Array.isArray(colors) && totalColor && getStyleClassFromColor(totalColor, colors);\n\n    return (\n      <svg\n        viewBox={viewBox}\n        width={svgWidth}\n        height={svgHeight}\n        style={style}\n        className={`${predefinedClassName} ${className}`}\n        {...props}\n      >\n        {fillStyle ? <style type=\"text/css\">{fillStyle}</style> : null}\n        {children}\n      </svg>\n    );\n  }\n}\n","// Copyright (c) 2020 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class EyeSeen extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-eyeseen'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M55.25,35v-.09a1.86,1.86,0,0,0-.49-1,36.15,36.15,0,0,0-5.05-5,31.92,31.92,0,0,0-13.19-7A21.09,21.09,0,0,0,28,21.8a26.07,26.07,0,0,0-7.4,2.73,40.33,40.33,0,0,0-9.88,7.63c-.54.56-1.07,1.12-1.56,1.73a1.92,1.92,0,0,0,0,2.56,36.09,36.09,0,0,0,5.05,5,31.89,31.89,0,0,0,13.19,7,21.05,21.05,0,0,0,8.51.12,26.06,26.06,0,0,0,7.41-2.73,40.37,40.37,0,0,0,9.88-7.63c.54-.56,1.07-1.12,1.56-1.73a1.84,1.84,0,0,0,.49-1v-.19s0-.06,0-.09,0-.06,0-.09,0-.08,0-.09M32,44.51a9.35,9.35,0,1,1,9.28-9.35A9.31,9.31,0,0,1,32,44.51\" />\n        <path d=\"M32,32.07a3.1,3.1,0,1,1-3.07,3.1A3.08,3.08,0,0,1,32,32.07\" />\n      </Base>\n    );\n  }\n}\n","// Copyright (c) 2020 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class EyeUnseen extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-eyeunseen'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M17.55,44.49a42.79,42.79,0,0,1-4.18-3.08,36.09,36.09,0,0,1-5.05-5,1.92,1.92,0,0,1,0-2.56c.49-.6,1-1.17,1.56-1.73a40.33,40.33,0,0,1,9.88-7.63,26.07,26.07,0,0,1,7.4-2.73,21.09,21.09,0,0,1,8.51.12,24.12,24.12,0,0,1,3.41,1L34.34,27.7a7.49,7.49,0,0,0-9.59,9.59Z\" />\n        <path d=\"M23.14,47.37l5.73-5.73a7.49,7.49,0,0,0,9.82-9.82l6-6a42.78,42.78,0,0,1,4.18,3.09,36.15,36.15,0,0,1,5.05,5,1.86,1.86,0,0,1,.49,1V35s0,0,0,.09,0,.06,0,.09,0,.06,0,.09v.19a1.84,1.84,0,0,1-.49,1c-.49.6-1,1.17-1.56,1.73a40.37,40.37,0,0,1-9.88,7.63,26.06,26.06,0,0,1-7.41,2.73,21.05,21.05,0,0,1-8.51-.12A24.09,24.09,0,0,1,23.14,47.37Z\" />\n      </Base>\n    );\n  }\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { toggleLayerVisibilityActionCreator } from \"app/Redux\";\n\nimport EyeSeen from \"components/common/icons/eye-seen\";\nimport EyeUnseen from \"components/common/icons/eye-unseen\";\n\nconst LayerContainer = styled.div`\n  background-color: ${(props) => props.theme.sidePanelBg};\n  color: ${(props) => props.theme.labelTextColor};\n  font-size: 0.8em;\n  width: 100%;\n  height: 30px;\n`;\n\nconst LayerVisibilityToggle = ({ layerName }) => {\n  // Redux states\n  const dispatch = useDispatch();\n  const layerVisibility = useSelector((state) => state.layerVisibility);\n  const toggleLayerVisibility = (layerName) => {\n    dispatch(toggleLayerVisibilityActionCreator(layerName));\n  };\n\n  const layer =\n    layerVisibility[\n      Object.keys(layerVisibility).find(\n        (key) => layerVisibility[key].layerName === layerName\n      )\n    ];\n\n  const handleOnClick = (event) => {\n    toggleLayerVisibility(layer.layerName);\n  };\n\n  return (\n    <LayerContainer className=\"flex flex-row items-center p-2 mb-1\">\n      <label>{layerName}</label>\n      <div className=\"flex-grow\" />\n      <div className=\"relative mr-1 cursor-pointer\" onClick={handleOnClick}>\n        {layer.visible ? (\n          <EyeSeen height=\"25px\" />\n        ) : (\n          <EyeUnseen height=\"25px\" />\n        )}\n      </div>\n    </LayerContainer>\n  );\n};\n\nexport default LayerVisibilityToggle;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport LayerVisibilityToggle from \"./LayerVisibilityToggle\";\n\nconst StyledPanelContent = styled.div`\n  background-color: ${(props) => props.theme.sidePanelBg};\n  width: 100%;\n  height: 100%;\n  color: ${(props) => props.theme.textColor};\n`;\n\nconst LayerGroupContainer = styled.div`\n  background-color: ${(props) => props.theme.sidePanelHeaderBg};\n  color: ${(props) => props.theme.textColor};\n  width: 100%;\n  padding: 6px;\n  margin-bottom: 8px;\n`;\n\nconst LayerManagerPanel = () => {\n  return (\n    <div>\n      <StyledPanelContent>\n        <LayerGroupContainer>\n          <div className=\"px ml-1 mb-2\">\n            <b>Points</b>\n          </div>\n          <LayerVisibilityToggle layerName={\"Moving Vessels\"} />\n          <LayerVisibilityToggle layerName={\"Stopped Vessels\"} />\n          <LayerVisibilityToggle layerName={\"Alerts\"} />\n        </LayerGroupContainer>\n        <LayerGroupContainer>\n          <div className=\"px ml-1 mb-2\">\n            <b>Paths</b>\n          </div>\n          <LayerVisibilityToggle layerName={\"Historical Path\"} />\n          <LayerVisibilityToggle layerName={\"Future Path\"} />\n          <LayerVisibilityToggle layerName={\"High-risk Vessel Path\"} />\n        </LayerGroupContainer>\n        <LayerGroupContainer>\n          <div className=\"px ml-1 mb-2\">\n            <b>Zones</b>\n          </div>\n          <LayerVisibilityToggle layerName={\"Fairways\"} />\n          <LayerVisibilityToggle layerName={\"Lanes and Boundaries\"} />\n          <LayerVisibilityToggle layerName={\"Mooring Areas\"} />\n          <LayerVisibilityToggle layerName={\"Anchorage Areas\"} />\n          <LayerVisibilityToggle layerName={\"Collision Risk Heatmap\"} />\n          <LayerVisibilityToggle layerName={\"Collision Risk Hexagon Grid\"} />\n          <LayerVisibilityToggle layerName={\"Collision Risk Screen Grid\"} />\n        </LayerGroupContainer>\n      </StyledPanelContent>\n    </div>\n  );\n};\n\nexport default LayerManagerPanel;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst ControlContainer = styled.div`\n  background-color: ${(props) => props.theme.sidePanelHeaderBg};\n  color: ${(props) => props.theme.labelTextColor};\n  font-size: 0.8em;\n  width: 100%;\n  height: 35px;\n`;\n\nconst CheckBoxWrapper = styled.div`\n  position: relative;\n  margin-left: 30px;\n`;\n\nconst CheckBoxLabel = styled.label`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 35px;\n  height: 22px;\n  border-radius: 12.5px;\n  background: #bebebe;\n  cursor: pointer;\n  &::after {\n    content: \"\";\n    display: block;\n    border-radius: 50%;\n    width: 15px;\n    height: 15px;\n    margin: 3px;\n    background: #ffffff;\n    transition: 0.2s;\n  }\n`;\nconst CheckBox = styled.input`\n  opacity: 0;\n  z-index: 3;\n  border-radius: 12.5px;\n  width: 35px;\n  height: 22px;\n  &:checked + ${CheckBoxLabel} {\n    background: #009e8c;\n    &::after {\n      content: \"\";\n      display: block;\n      border-radius: 50%;\n      width: 15px;\n      height: 15px;\n      margin-left: 17.5px;\n      transition: 0.2s;\n    }\n  }\n`;\n\nconst MapControlToggle = ({ label, checked, onChange }) => {\n  return (\n    <ControlContainer className=\"flex flex-row items-center p-2 mb-2\">\n      <label>\n        <span>{label}</span>\n      </label>\n      <div className=\"flex-grow\" />\n      <CheckBoxWrapper className=\"flex flex-row items-center\">\n        <CheckBox\n          id={label}\n          type=\"checkbox\"\n          checked={checked}\n          onChange={onChange}\n        />\n        <CheckBoxLabel htmlFor={label} />\n      </CheckBoxWrapper>\n    </ControlContainer>\n  );\n};\n\nexport default MapControlToggle;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport {\n  toggleThemeActionCreator,\n  toggleVesselViewActionCreator,\n  toggleMiniMapViewActionCreator,\n  setViewStatesActionCreator,\n  resetViewStatesActionCreator,\n} from \"app/Redux\";\nimport MapControlToggle from \"./MapControlToggle\";\n\nconst StyledPanelContent = styled.div`\n  background-color: ${(props) => props.theme.sidePanelBg};\n  width: 100%;\n  height: 100%;\n  color: ${(props) => props.theme.textColor};\n`;\n\nconst MapManagerPanel = () => {\n  // Redux states\n  const dispatch = useDispatch();\n  const darkThemeEnabled = useSelector((state) => state.darkThemeEnabled);\n  const toggleTheme = () => {\n    dispatch(toggleThemeActionCreator());\n  };\n  const mapView = useSelector((state) => state.mapView);\n  const toggleVesselView = () => {\n    if (mapView.vesselViewEnabled) {\n      // if from true to false\n      dispatch(resetViewStatesActionCreator());\n    } else {\n      // if from false to true\n      dispatch(setViewStatesActionCreator(mapView.activeVesselViewStates));\n    }\n    dispatch(toggleVesselViewActionCreator());\n  };\n  const toggleMiniMapView = () => {\n    dispatch(toggleMiniMapViewActionCreator());\n  };\n\n  return (\n    <StyledPanelContent>\n      <MapControlToggle\n        label={\"Enable Dark Theme\"}\n        checked={darkThemeEnabled}\n        onChange={toggleTheme}\n      />\n      <MapControlToggle\n        label={\"Enable Active Vessel View\"}\n        checked={mapView.vesselViewEnabled}\n        onChange={toggleVesselView}\n      />{\" \"}\n      <MapControlToggle\n        label={\"Enable Mini Map\"}\n        checked={mapView.miniMapViewEnabled}\n        onChange={toggleMiniMapView}\n      />\n    </StyledPanelContent>\n  );\n};\n\nexport default MapManagerPanel;\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport StorageIcon from \"@material-ui/icons/Storage\";\r\nimport LayersIcon from \"@material-ui/icons/Layers\";\r\nimport EditLocationIcon from \"@material-ui/icons/EditLocation\";\r\n\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n\r\nimport DataManagerPanel from \"./data-manager-panel/DataManagerPanel\";\r\nimport LayerManagerPanel from \"./layer-manager-panel/LayerManagerPanel\";\r\nimport MapManagerPanel from \"./map-manager-panel/MapManagerPanel\";\r\n\r\nconst StyledTabsContainer = styled.div`\r\n  background-color: ${(props) => props.theme.sidePanelHeaderBg};\r\n  flex-grow: 1;\r\n  width: 100%;\r\n`;\r\n\r\nconst StyledTabs = styled(Tabs)`\r\n  min-height: auto;\r\n  height: 35;\r\n  background-color: ${(props) => props.theme.sidePanelHeaderBg};\r\n`;\r\n\r\nexport const panels = [\r\n  {\r\n    value: 0,\r\n    id: \"data\",\r\n    label: \"Data\",\r\n    iconComponent: StorageIcon,\r\n    panelComponent: DataManagerPanel,\r\n  },\r\n  {\r\n    value: 1,\r\n    id: \"layer\",\r\n    label: \"Layer\",\r\n    iconComponent: LayersIcon,\r\n    panelComponent: LayerManagerPanel,\r\n  },\r\n  {\r\n    value: 2,\r\n    id: \"map\",\r\n    label: \"Map\",\r\n    iconComponent: EditLocationIcon,\r\n    panelComponent: MapManagerPanel,\r\n  },\r\n];\r\n\r\nconst StyledTab = styled(Tab)`\r\n  text-transform: none;\r\n  font-size: 0.75em;\r\n  color: ${(props) => props.theme.textColor};\r\n  :focus {\r\n    opacity: 1;\r\n    color: ${(props) => props.theme.activeColor};\r\n    background-color: ${(props) => props.theme.sidePanelBg};\r\n    font-weight: 400;\r\n    outline: 0;\r\n  }\r\n  :hover {\r\n    opacity: 1;\r\n    color: ${(props) => props.theme.activeColor};\r\n  }\r\n  min-width: auto;\r\n  width: 70px;\r\n  min-height: auto;\r\n  height: 35px;\r\n  padding: 0;\r\n`;\r\n\r\nconst StyledPanelContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: ${(props) => props.theme.sidePanelInnerPadding}px;\r\n`;\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n  return (\r\n    <StyledPanelContainer role=\"tabpanel\" hidden={value !== index} {...other}>\r\n      {children}\r\n    </StyledPanelContainer>\r\n  );\r\n}\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nconst PanelContent = ({ vesselsData }) => {\r\n  const [value, setValue] = React.useState(0);\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex-1 flex flex-col items-stretch\">\r\n      <StyledTabsContainer position=\"static\">\r\n        <StyledTabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          indicatorColor=\"primary\"\r\n        >\r\n          {panels.map((panel) => (\r\n            <StyledTab\r\n              key={panel.value}\r\n              disableRipple\r\n              label={\r\n                <div>\r\n                  <panel.iconComponent\r\n                    style={{\r\n                      verticalAlign: \"middle\",\r\n                      fontSize: 16,\r\n                    }}\r\n                    className=\"mr-1\"\r\n                  />\r\n                  {panel.label}\r\n                </div>\r\n              }\r\n            />\r\n          ))}\r\n        </StyledTabs>\r\n      </StyledTabsContainer>\r\n\r\n      <Scrollbars\r\n        autoHide\r\n        autoHideDuration={200}\r\n        autoHideTimeout={200}\r\n        style={{ height: \"100%\" }}\r\n      >\r\n        {panels.map(\r\n          (panel) =>\r\n            panel.value === value && (\r\n              <TabPanel key={panel.value} value={value} index={panel.value}>\r\n                {panel.id === \"data\" ? (\r\n                  <panel.panelComponent vesselsData={vesselsData} />\r\n                ) : (\r\n                  <panel.panelComponent />\r\n                )}\r\n              </TabPanel>\r\n            )\r\n        )}\r\n      </Scrollbars>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PanelContent;\r\n","import styled from \"styled-components\";\n\nconst CollapseButton = styled.div`\n  align-items: center;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n  justify-content: center;\n  background-color: ${(props) => props.theme.sideBarCloseBtnBgd};\n  border-radius: 1px;\n  color: ${(props) => props.theme.sideBarCloseBtnColor};\n  display: flex;\n  height: 20px;\n  position: absolute;\n  top: ${(props) => props.theme.sidePanel.margin.top + 3}px;\n  width: 20px;\n  :hover {\n    cursor: pointer;\n    box-shadow: none;\n    background-color: ${(props) => props.theme.sideBarCloseBtnBgdHover};\n  }\n`;\n\nexport default CollapseButton;\n","// Copyright (c) 2020 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class ArrowRight extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-arrowright'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path\n          d=\"M26.7,54.7l-4.5-4.4c-0.4-0.4-0.4-1,0-1.4L38.6,33L22.2,17c-0.4-0.4-0.4-1,0-1.5l4.5-4.4c0.4-0.4,1.1-0.4,1.5,0\n\tl17.1,16.7l4.5,4.4c0.4,0.4,0.4,1,0,1.4L45.2,38L28.2,54.7C27.8,55.1,27.1,55.1,26.7,54.7\"\n        />\n      </Base>\n    );\n  }\n}\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { togglePanelOpenActionCreator } from \"app/Redux\";\r\n\r\nimport PanelHeader from \"./PanelHeader\";\r\nimport PanelContent from \"./PanelContent\";\r\nimport CollapseButton from \"components/common/CollapseButton\";\r\nimport ArrowRight from \"components/common/icons/arrow-right\";\r\n\r\nconst LeftPanelBox = styled.div`\r\n  height: 100%;\r\n  width: ${(props) =>\r\n    props.theme.sidePanel.width + 2 * props.theme.sidePanel.margin.left}px;\r\n  display: flex;\r\n  position: relative;\r\n`;\r\n\r\nconst StyledSidePanelContainer = styled.div`\r\n  z-index: 99;\r\n  height: 100%;\r\n  width: ${(props) => props.width + 2 * props.theme.sidePanel.margin.left}px;\r\n  display: flex;\r\n  position: relative;\r\n  padding-top: ${(props) => props.theme.sidePanel.margin.top}px;\r\n  padding-right: ${(props) => props.theme.sidePanel.margin.right}px;\r\n  padding-bottom: ${(props) => props.theme.sidePanel.margin.bottom}px;\r\n  padding-left: ${(props) => props.theme.sidePanel.margin.left}px;\r\n  transition: ${(props) => props.theme.transitionFast};\r\n`;\r\n\r\nconst SidePanelInner = styled.div`\r\n  box-shadow: ${(props) => props.theme.panelBoxShadow};\r\n  align-items: stretch;\r\n  background-color: ${(props) => props.theme.sidePanelBg};\r\n  border-radius: 5px;\r\n  height: 100%;\r\n  width: ${(props) => props.theme.sidePanel.width}px;\r\n`;\r\n\r\nconst SidePanel = ({ vesselsData }) => {\r\n  // Redux states\r\n  const dispatch = useDispatch();\r\n  const panelOpen = useSelector((state) => state.panelOpen);\r\n  const togglePanelOpen = (panelKey) => {\r\n    dispatch(togglePanelOpenActionCreator(panelKey));\r\n  };\r\n\r\n  // Component constants\r\n  const initialDegree = 180;\r\n  const width = 300;\r\n  const panelKey = \"controlPanel\";\r\n  const panel =\r\n    panelOpen[Object.keys(panelOpen).find((key) => key === panelKey)];\r\n\r\n  const handleOnClick = (event) => {\r\n    togglePanelOpen(panelKey);\r\n  };\r\n\r\n  const movingVessels = vesselsData.filter((vessel) => {\r\n    return vessel.speed >= 1;\r\n  });\r\n\r\n  return (\r\n    <LeftPanelBox>\r\n      <StyledSidePanelContainer width={panel.isOpen ? width : 0}>\r\n        {panel.isOpen && (\r\n          <SidePanelInner className=\"flex flex-col\">\r\n            <PanelHeader />\r\n            <PanelContent vesselsData={movingVessels} />\r\n          </SidePanelInner>\r\n        )}\r\n        <CollapseButton onClick={handleOnClick} style={{ right: \"-5px\" }}>\r\n          <ArrowRight\r\n            height=\"12px\"\r\n            style={{\r\n              transform: `rotate(${\r\n                panel.isOpen ? initialDegree : initialDegree + 180\r\n              }deg)`,\r\n            }}\r\n          />\r\n        </CollapseButton>\r\n      </StyledSidePanelContainer>\r\n    </LeftPanelBox>\r\n  );\r\n};\r\n\r\nexport default SidePanel;\r\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst PropertyLabel = styled.div`\n  background-color: ${(props) => props.theme.labelColor};\n  color: ${(props) => props.theme.labelTextColor};\n  font-size: 12px;\n  font-weight: 600;\n  padding: 3px 3px 3px 3px;\n  min-width: 80px;\n`;\n\nconst PropertyData = styled.div`\n  background-color: ${(props) => props.theme.panelBackground};\n  color: ${(props) => props.theme.labelTextColor};\n  font-size: 12px;\n  font-weight: 400;\n  padding: 3px 3px 3px 3px;\n  margin-right: 1px;\n  width: 100%;\n  min-width: 49px;\n`;\n\nconst PropertyInfo = (props) => {\n  return (\n    <div className=\"mb-1 flex\">\n      <PropertyLabel>{props.label}</PropertyLabel>\n      <PropertyData> {props.data}</PropertyData>\n    </div>\n  );\n};\n\nexport default PropertyInfo;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport PropertyInfo from \"./PropertyInfo\";\nimport vessel_type_lookup from \"data/vessel_type_lookup.json\";\n\nconst CardContainer = styled.div`\n  background-color: ${(props) => props.theme.sidePanelHeaderBg};\n  padding: 0px 0px 0px 0px;\n  width: 100%;\n  margin-bottom: 10px;\n`;\n\nconst CardHeader = styled.div`\n  background-color: ${(props) => props.headerColor};\n  padding: 6px 10px 6px 10px;\n  height: 80px;\n  width: 100%;\n`;\n\nconst PropertyContainer = styled.div`\n  background-color: ${(props) => props.theme.sidePanelHeaderBg};\n  padding: 5px 5px 5px 5px;\n  width: 100%;\n`;\n\nconst ChipsContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  margin: 0px;\n  padding: 0px;\n`;\n\nconst VesselName = styled.div`\n  color: ${\"#FFFFFF\"};\n  font-size: 20px;\n  font-weight: 800;\n`;\n\nconst VesselSubTitle = styled.div`\n  color: ${\"#FFFFFF\"};\n  font-size: 12px;\n  font-weight: 400;\n`;\n\nconst VesselDetailsCard = ({ vessel, headerColor }) => {\n  return (\n    <CardContainer className=\"flex flex-col\">\n      <CardHeader headerColor={headerColor}>\n        <VesselName>{vessel.shipname}</VesselName>\n        <VesselSubTitle>{\"MMSI: \" + vessel.mmsi}</VesselSubTitle>\n        <VesselSubTitle>\n          {vessel_type_lookup[vessel.shiptype] + \" (\" + vessel.shiptype + \")\"}\n        </VesselSubTitle>\n      </CardHeader>\n      <PropertyContainer>\n        <PropertyInfo label=\"Pilotage\" data={\"<PILOT INFO>\"} />\n        <ChipsContainer>\n          <PropertyInfo label=\"Speed\" data={vessel.speed} />\n          <PropertyInfo\n            label=\"Collision Risk\"\n            data={Math.round((vessel.risk + Number.EPSILON) * 100) / 100}\n          />\n          <PropertyInfo label=\"Course\" data={vessel.course} />\n          <PropertyInfo label=\"Heading\" data={vessel.heading} />\n        </ChipsContainer>\n      </PropertyContainer>\n    </CardContainer>\n  );\n};\n\nexport default VesselDetailsCard;\n","import React from \"react\";\nimport { Line } from \"react-chartjs-2\";\nimport styled from \"styled-components\";\n\nconst ChartContainer = styled.div`\n  background-color: ${(props) => props.theme.sidePanelHeaderBg};\n  color: ${(props) => props.theme.textColor};\n  padding: 6px;\n  margin-bottom: 5px;\n`;\n\nconst GraphContainer = styled.div`\n  color: ${(props) => props.theme.textColor};\n  height: 250px;\n`;\n\nconst VesselLineChart = ({ chartTitle, data, yMax }) => {\n  var options = {\n    animation: {\n      duration: 0,\n    },\n    responsive: true,\n    maintainAspectRatio: false,\n    scales: {\n      yAxes: [\n        {\n          ticks: {\n            fontSize: 9,\n            min: 0,\n            suggestedMax: yMax,\n          },\n        },\n      ],\n      xAxes: [\n        {\n          ticks: {\n            fontSize: 9,\n          },\n          type: \"time\",\n          time: {\n            displayFormats: {\n              millisecond: \"hh:mm\",\n              second: \"hh:mm\",\n            },\n          },\n        },\n      ],\n    },\n    legend: {\n      labels: {\n        fontSize: 9,\n      },\n    },\n  };\n\n  return (\n    <ChartContainer>\n      <div className=\"px-1 mb-1\">\n        <b>{chartTitle}</b>\n      </div>\n      <GraphContainer>\n        <Line data={data} options={options} />\n      </GraphContainer>\n    </ChartContainer>\n  );\n};\n\nexport default VesselLineChart;\n","import React from \"react\";\n\nimport { Scrollbars } from \"react-custom-scrollbars\";\n\nimport VesselDetailsCard from \"./VesselDetailsCard\";\nimport VesselLineChart from \"./VesselLineChart\";\n\nconst VesselDetails = ({ vessel, historicalPath, futurePath }) => {\n  const speedChartData = {\n    datasets: [\n      {\n        label: \"Historical Speed\",\n        fill: false,\n        lineTension: 0,\n        pointBackgroundColor: \"rgba(150, 150, 150, 0.75)\",\n        borderColor: \"rgba(150, 150, 150, 0.75)\",\n        pointRadius: 1,\n        data: [\n          ...historicalPath.timestamps.map((x, i) => ({\n            x: historicalPath.timestamps[i] * 1000,\n            y: historicalPath.speed[i],\n          })),\n        ],\n      },\n      {\n        label: \"Future Speed\",\n        fill: false,\n        lineTension: 0,\n        pointBackgroundColor: \"rgb(41, 169, 255, 0.5)\",\n        borderColor: \"rgb(41, 169, 255, 0.5)\",\n        pointRadius: 1,\n        data: [\n          ...futurePath.timestamps.map((x, i) => ({\n            x: futurePath.timestamps[i] * 1000,\n            y: futurePath.speed[i],\n          })),\n        ],\n      },\n    ],\n  };\n\n  const riskChartData = {\n    datasets: [\n      {\n        label: \"Historical Risk\",\n        fill: false,\n        lineTension: 0,\n        pointBackgroundColor: \"rgba(150, 150, 150, 0.75)\",\n        borderColor: \"rgba(150, 150, 150, 0.75)\",\n        pointRadius: 1,\n        data: [\n          ...historicalPath.timestamps.map((x, i) => ({\n            x: historicalPath.timestamps[i] * 1000,\n            y: historicalPath.risk[i],\n          })),\n        ],\n      },\n      {\n        label: \"Future risk\",\n        fill: false,\n        lineTension: 0,\n        pointBackgroundColor: \"rgb(41, 169, 255, 0.5)\",\n        borderColor: \"rgb(41, 169, 255, 0.5)\",\n        pointRadius: 1,\n        data: [\n          ...futurePath.timestamps.map((x, i) => ({\n            x: futurePath.timestamps[i] * 1000,\n            y: futurePath.risk[i],\n          })),\n        ],\n      },\n    ],\n  };\n\n  // const headingChartData = {\n  //   datasets: [\n  //     {\n  //       label: \"Historical Heading\",\n  //       fill: false,\n  //       lineTension: 0,\n  //       pointBackgroundColor: \"rgba(150, 150, 150, 0.75)\",\n  //       borderColor: \"rgba(150, 150, 150, 0.75)\",\n  //       pointRadius: 1,\n  //       data: [\n  //         ...historicalPath.timestamps.map((x, i) => ({\n  //           x: historicalPath.timestamps[i] * 1000,\n  //           y: historicalPath.heading[i],\n  //         })),\n  //       ],\n  //     },\n  //     {\n  //       label: \"Future Heading\",\n  //       fill: false,\n  //       lineTension: 0,\n  //       pointBackgroundColor: \"rgb(41, 169, 255, 0.5)\",\n  //       borderColor: \"rgb(41, 169, 255, 0.5)\",\n  //       pointRadius: 1,\n  //       data: [\n  //         ...futurePath.timestamps.map((x, i) => ({\n  //           x: futurePath.timestamps[i] * 1000,\n  //           y: futurePath.heading[i],\n  //         })),\n  //       ],\n  //     },\n  //   ],\n  // };\n\n  return (\n    <Scrollbars\n      autoHide\n      autoHideDuration={200}\n      autoHideTimeout={200}\n      style={{ height: \"100%\" }}\n    >\n      <div className=\"p-3 h-full flex flex-col\">\n        <VesselDetailsCard\n          vessel={vessel}\n          headerColor={\"#0A9DFF\"}\n        ></VesselDetailsCard>\n        <div>\n          <VesselLineChart\n            chartTitle={\"Speed-Time Graph\"}\n            data={speedChartData}\n            yMax={20}\n          />\n          <VesselLineChart\n            chartTitle={\"Collision Risk Graph\"}\n            data={riskChartData}\n            yMax={100}\n          />\n          {/* <VesselLineChart data={headingChartData} yMax={360} /> */}\n        </div>\n      </div>\n    </Scrollbars>\n  );\n};\n\nexport default VesselDetails;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport { Scrollbars } from \"react-custom-scrollbars\";\n\nimport VesselDetailsCard from \"./VesselDetailsCard\";\n\nconst AlertDetails = ({ alertVessels }) => {\n  const alertColors = useSelector((state) => state.vesselData.alertColors);\n\n  return (\n    <Scrollbars\n      autoHide\n      autoHideDuration={200}\n      autoHideTimeout={200}\n      style={{ height: \"100%\" }}\n    >\n      <div className=\"p-3 h-full flex flex-col\">\n        {alertVessels.map((vessel, index) => (\n          <VesselDetailsCard\n            key={vessel.mmsi}\n            vessel={vessel}\n            headerColor={alertColors[index].fill}\n          ></VesselDetailsCard>\n        ))}\n      </div>\n    </Scrollbars>\n  );\n};\n\nexport default AlertDetails;\n","import React from \"react\";\n\nimport styled from \"styled-components\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { togglePanelOpenActionCreator } from \"app/Redux\";\n\nimport VesselDetails from \"./VesselDetails\";\nimport AlertDetails from \"./AlertDetails\";\nimport CollapseButton from \"components/common/CollapseButton\";\nimport ArrowRight from \"components/common/icons/arrow-right\";\n\nconst RightPanelBox = styled.div`\n  height: 100%;\n  width: ${(props) =>\n    props.theme.sidePanel.width + 2 * props.theme.sidePanel.margin.left}px;\n  position: relative;\n`;\n\nconst StyledDetailsPanelContainer = styled.div`\n  z-index: 99;\n  height: 100%;\n  width: ${(props) => props.width + 2 * props.theme.sidePanel.margin.left}px;\n  display: flex;\n  position: relative;\n  padding-top: ${(props) => props.theme.sidePanel.margin.top}px;\n  padding-right: ${(props) => props.theme.sidePanel.margin.left}px;\n  padding-bottom: ${(props) => props.theme.sidePanel.margin.bottom}px;\n  padding-left: ${(props) => props.theme.sidePanel.margin.right}px;\n  transition: ${(props) => props.theme.transitionFast};\n`;\n\nconst DetailsPanelInner = styled.div`\n  box-shadow: ${(props) => props.theme.panelBoxShadow};\n  align-items: stretch;\n  background-color: ${(props) => props.theme.sidePanelBg};\n  border-radius: 5px;\n  max-height: 100%;\n  width: ${(props) => props.theme.sidePanel.width}px;\n`;\n\nconst PlaceholderContainer = styled.div`\n  background-color: ${(props) => props.theme.sidePanelBg};\n  color: ${(props) => props.theme.textColor};\n  font-size: 1.2em;\n  text-align: center;\n  padding: 10px;\n`;\n\nconst DetailsPanel = () => {\n  // Redux states\n  const dispatch = useDispatch();\n  const panelOpen = useSelector((state) => state.panelOpen);\n  const activeVessels = useSelector(\n    (state) => state.vesselData.activeVesselData\n  );\n  const alertVessels = useSelector((state) => state.vesselData.alertVesselData);\n  const activeFuturePath = useSelector(\n    (state) => state.pathData.activeFuturePath\n  );\n  const activeHistoricalPath = useSelector(\n    (state) => state.pathData.activeHistoricalPath\n  );\n\n  const togglePanelOpen = (panelKey) => {\n    dispatch(togglePanelOpenActionCreator(panelKey));\n  };\n\n  // Component constants\n  const initialDegree = 0;\n  const width = 300;\n  const panelKey = \"detailsPanel\";\n  const panel =\n    panelOpen[Object.keys(panelOpen).find((key) => key === panelKey)];\n\n  const handleOnClick = (event) => {\n    togglePanelOpen(panelKey);\n  };\n\n  return (\n    <RightPanelBox className=\"flex flex-row-reverse space-x-reverse\">\n      <StyledDetailsPanelContainer width={panel.isOpen ? width : 0}>\n        {panel.isOpen && (\n          <DetailsPanelInner>\n            {activeVessels.length > 0 &&\n            (activeHistoricalPath.length > 0 || activeFuturePath.length > 0) ? (\n              <VesselDetails\n                vessel={activeVessels[0]}\n                historicalPath={activeHistoricalPath[0]}\n                futurePath={activeFuturePath[0]}\n              />\n            ) : alertVessels.length > 0 ? (\n              <AlertDetails alertVessels={alertVessels}></AlertDetails>\n            ) : (\n              <div className=\"flex content-center flex-wrap flex-auto h-full p-5\">\n                <PlaceholderContainer className=\"flex-auto\">\n                  No active vessel selected\n                </PlaceholderContainer>\n              </div>\n            )}\n          </DetailsPanelInner>\n        )}\n        <CollapseButton onClick={handleOnClick} style={{ left: \"-5px\" }}>\n          <ArrowRight\n            height=\"12px\"\n            style={{\n              transform: `rotate(${\n                panel.isOpen ? initialDegree : initialDegree + 180\n              }deg)`,\n            }}\n          />\n        </CollapseButton>\n      </StyledDetailsPanelContainer>\n    </RightPanelBox>\n  );\n};\n\nexport default DetailsPanel;\n","import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport styled from \"styled-components\";\nimport { FlyToInterpolator } from \"deck.gl\";\nimport { TRANSITION_EVENTS } from \"react-map-gl\";\n\nimport TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport {\n  togglePanelOpenActionCreator,\n  setViewStatesActionCreator,\n  setActiveVesselsActionCreator,\n} from \"app/Redux\";\nimport CollapseButton from \"components/common/CollapseButton\";\nimport ArrowRight from \"components/common/icons/arrow-right\";\n\nimport dataFairways from \"data/seamark_fairways.json\";\nimport dataAnchorages from \"data/seamark_anchorages.json\";\nimport dataMooringAreas from \"data/seamark_mooring_areas.json\";\nimport vesselTypeLookup from \"data/vessel_type_lookup.json\";\n\nconst TopPanelBox = styled.div`\n  width: 100%;\n  height: ${(props) => props.height + 2 * props.theme.sidePanel.margin.top}px;\n  position: relative;\n`;\n\nconst StyledSearchBarContainer = styled.div`\n  z-index: 99;\n  height: ${(props) => props.height + 2 * props.theme.sidePanel.margin.top}px;\n  width: 100%;\n  max-width: 600px;\n  display: flex;\n  position: relative;\n  padding-top: ${(props) => props.theme.sidePanel.margin.top}px;\n  padding-bottom: ${(props) => props.theme.sidePanel.margin.top}px;\n  padding-right: 33px;\n  padding-left: 10px;\n  transition: ${(props) => props.theme.transitionFast};\n`;\n\nconst SearchBarInner = styled.div`\n  align-items: stretch;\n  box-shadow: ${(props) => props.theme.panelBoxShadow};\n  background-color: ${(props) => props.theme.sidePanelBg};\n  height: 100%;\n  width: 100%;\n  border-radius: 18px;\n`;\n\nconst SearchField = styled.div`\n  height: 100%;\n  width: 100%;\n`;\n\nconst StyledIconButton = styled(IconButton)`\n  color: ${(props) => props.theme.textColor};\n  opacity: 0.6;\n  border: none;\n  :focus {\n    outline: 0;\n  }\n  :hover {\n    opacity: 1;\n  }\n`;\n\nconst SearchBar = () => {\n  // Redux states\n  const dispatch = useDispatch();\n  const panelOpen = useSelector((state) => state.panelOpen);\n  const mapView = useSelector((state) => state.mapView);\n  const allVessels = useSelector((state) => state.vesselData.allVesselData);\n  const vesselTypeFilter = useSelector((state) => state.vesselTypeFilter);\n  const vesselSliderFilter = useSelector((state) => state.vesselSliderFilter);\n\n  const visibleVessels = allVessels.filter((vessel) => {\n    const visibleTypes = vesselTypeFilter.map((vessel) => {\n      return vessel.filterState ? vessel.vesselType : null;\n    });\n    return (\n      visibleTypes.includes(vesselTypeLookup[vessel.shiptype]) &&\n      vessel.risk >= vesselSliderFilter.risk[0] &&\n      vessel.risk <= vesselSliderFilter.risk[1] &&\n      vessel.speed >= vesselSliderFilter.speed[0] &&\n      vessel.speed <= vesselSliderFilter.speed[1] &&\n      vessel.speed >= 1\n    );\n  });\n\n  const togglePanelOpen = (panelKey) => {\n    dispatch(togglePanelOpenActionCreator(panelKey));\n  };\n\n  const setViewStates = (newViewState) => {\n    dispatch(setViewStatesActionCreator(newViewState));\n  };\n\n  const updateView = (object) => {\n    // Zoom to event\n    setViewStates({\n      main: {\n        ...mapView.viewStates.main,\n        longitude: object.longitude,\n        latitude: object.latitude,\n        zoom: 13,\n        pitch: 0,\n        bearing: 0,\n        transitionDuration: 500,\n        transitionInterruption: TRANSITION_EVENTS.UPDATE,\n        transitionInterpolator: new FlyToInterpolator(),\n      },\n      minimap: {\n        ...mapView.viewStates.minimap,\n      },\n    });\n  };\n\n  const setActiveVessels = (vessel) => {\n    dispatch(setActiveVesselsActionCreator(vessel));\n  };\n\n  // Component states\n  const [value, setValue] = React.useState(null);\n  const [inputValue, setInputValue] = React.useState(\"\");\n  const [options, setOptions] = useState([]);\n\n  // Component constants\n  const initialDegree = 270;\n  const height = 40;\n  const panelKey = \"searchBar\";\n  const panel =\n    panelOpen[Object.keys(panelOpen).find((key) => key === panelKey)];\n\n  const searchOptions = [\n    ...dataFairways.map((location) => ({\n      type: \"location\",\n      name: location.name,\n      longitude: location.longitude,\n      latitude: location.latitude,\n    })),\n    ...dataAnchorages.map((location) => ({\n      type: \"location\",\n      name: location.name,\n      longitude: location.longitude,\n      latitude: location.latitude,\n    })),\n    ...dataMooringAreas.map((location) => ({\n      type: \"location\",\n      name: location.name,\n      longitude: location.longitude,\n      latitude: location.latitude,\n    })),\n    ...visibleVessels.map((vessel) => ({\n      type: \"vessel\",\n      name: vessel.shipname,\n      mmsi: vessel.mmsi,\n      longitude: vessel.longitude,\n      latitude: vessel.latitude,\n    })),\n  ];\n\n  const handleOnClick = (event) => {\n    togglePanelOpen(panelKey);\n  };\n\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      padding: \"2px 4px\",\n      display: \"flex\",\n      alignItems: \"center\",\n      width: 400,\n    },\n    input: {\n      marginLeft: theme.spacing(1),\n      flex: 1,\n    },\n    iconButton: {\n      padding: 10,\n    },\n    divider: {\n      height: 28,\n      margin: 4,\n    },\n  }));\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (inputValue === \"\") {\n      setOptions(value ? [value] : []);\n      return undefined;\n    } else {\n      let newOptions = searchOptions.filter((option) => {\n        if (option.type === \"location\") {\n          return option.name\n            .toString()\n            .toLowerCase()\n            .includes(inputValue.toString().toLowerCase());\n        } else if (option.type === \"vessel\") {\n          return (\n            option.name\n              .toString()\n              .toLowerCase()\n              .includes(inputValue.toString().toLowerCase()) ||\n            option.mmsi\n              .toString()\n              .toLowerCase()\n              .includes(inputValue.toString().toLowerCase())\n          );\n        } else {\n          return undefined;\n        }\n      });\n      setOptions(newOptions);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [value, inputValue]);\n\n  return (\n    <TopPanelBox className=\"flex-1 flex justify-center\">\n      <StyledSearchBarContainer height={panel.isOpen ? height : 0}>\n        {panel.isOpen && (\n          <SearchBarInner className=\"flex pl-2\">\n            <SearchField>\n              <Autocomplete\n                id=\"search\"\n                autoComplete\n                size=\"small\"\n                getOptionLabel={(option) => {\n                  if (option.type === \"location\") {\n                    return option.name;\n                  } else if (option.type === \"vessel\") {\n                    return option.name + \" (\" + option.mmsi + \")\";\n                  }\n                }}\n                options={options}\n                noOptionsText={\"No object found\"}\n                value={value}\n                onChange={(event, newValue) => {\n                  setOptions(newValue ? [newValue, ...options] : options);\n                  setValue(newValue);\n                  if (newValue) {\n                    updateView(newValue);\n                    if (newValue.type === \"vessel\") {\n                      setActiveVessels(\n                        allVessels.filter(\n                          (vessel) => vessel.mmsi === newValue.mmsi\n                        )\n                      );\n                    }\n                  }\n                }}\n                onInputChange={(event, newInputValue) => {\n                  setInputValue(newInputValue);\n                }}\n                renderInput={(params) => (\n                  <TextField\n                    {...params}\n                    className={classes.input}\n                    placeholder=\"Search for vessels, locations...\"\n                    margin=\"dense\"\n                    variant=\"standard\"\n                    InputProps={{\n                      ...params.InputProps,\n                      disableUnderline: true,\n                    }}\n                  />\n                )}\n              />\n            </SearchField>\n            <StyledIconButton\n              type=\"submit\"\n              disabled={true}\n              className={classes.iconButton}\n            >\n              <SearchIcon />\n            </StyledIconButton>\n          </SearchBarInner>\n        )}\n        <CollapseButton\n          onClick={handleOnClick}\n          style={{ right: \"8px\", bottom: \"-25px\" }}\n        >\n          <ArrowRight\n            height=\"12px\"\n            style={{\n              transform: `rotate(${\n                panel.isOpen ? initialDegree : initialDegree + 180\n              }deg)`,\n            }}\n          />\n        </CollapseButton>\n      </StyledSearchBarContainer>\n    </TopPanelBox>\n  );\n};\n\nexport default SearchBar;\n","import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport axios from \"axios\";\nimport { ThemeProvider } from \"styled-components\";\nimport { StylesProvider } from \"@material-ui/styles\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { lightTheme, darkTheme } from \"styles/themes\";\nimport { GlobalStyle } from \"styles/global\";\n\nimport MapContainer from \"components/map/MapContainer\";\nimport ControlPanel from \"components/control-panel/ControlPanel\";\nimport DetailsPanel from \"components/details-panel/DetailsPanel\";\n// import TimeSlider from \"components/time-slider/TimeSlider\";\nimport SearchBar from \"components/search-bar/SearchBar\";\nimport {\n  setMetadataActionCreator,\n  setAllVesselsActionCreator,\n  incrementLoadedFramesActionCreator,\n} from \"app/Redux\";\n\nimport allCloseEncounters from \"data/close_encounters.json\";\nimport mmsiTypeLookup from \"data/mmsi_type_lookup.json\";\n\nconst METADATA_PATH =\n  \"https://raw.githubusercontent.com/jakkarintiew/frames-data/master/frames_20s/frames_metadata.json\";\nconst FRAMES_DIR =\n  \"https://raw.githubusercontent.com/jakkarintiew/frames-data/master/frames_20s/\";\n\nconst ScreenCircularProgress = withStyles({\n  indeterminate: {\n    color: \"#00d672\",\n    animationDuration: \"500ms\",\n  },\n})(CircularProgress);\n\nconst App = () => {\n  // Redux states\n  const dispatch = useDispatch();\n  const darkThemeEnabled = useSelector((state) => state.darkThemeEnabled);\n  const currentTime = useSelector(\n    (state) => state.dataSourceControl.currentTime\n  );\n  const metadata = useSelector((state) => state.frames.metadata);\n  const currentFrame = useSelector((state) => state.frames.currentFrame);\n  const allVessels = useSelector((state) => state.vesselData.allVesselData);\n  const alertVessels = useSelector((state) => state.vesselData.alertVesselData);\n\n  const setMetadata = (metadata) => {\n    dispatch(setMetadataActionCreator(metadata));\n  };\n\n  const setAllVessels = (vessels) => {\n    dispatch(setAllVesselsActionCreator(vessels));\n  };\n\n  const incrementLoadedFrames = () => {\n    dispatch(incrementLoadedFramesActionCreator());\n  };\n\n  const [frames, setFrames] = useState({});\n  const [error, setError] = useState(null);\n  const [alertFrame, setAlertFrame] = useState(0);\n  // Load first frame + metadata; ran once at startup\n  useEffect(() => {\n    const getFirstFrame = async () => {\n      try {\n        // const promiseFrame = axios.get(FRAMES_DIR + `0_frame.json`);\n        // const promiseMetadata = axios.get(METADATA_PATH);\n        // const [firstFrame, metadata] = await Promise.all([\n        //   promiseFrame,\n        //   promiseMetadata,\n        // ]);\n        // incrementLoadedFrames();\n        // setFrames((prevFrames) => ({ ...prevFrames, 0: firstFrame.data }));\n        // setAllVessels(firstFrame.data);\n        // setMetadata(metadata.data);\n\n        axios({\n          method: \"post\",\n          url:\n            \"https://cors-anywhere.herokuapp.com/http://52.163.54.65:80/api/v1/service/snapshot/score\",\n          data: { time_stamp_int: [currentTime] },\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${process.env.REACT_APP_SNAPSHOT_API_KEY}`,\n          },\n        }).then((response) => {\n          let vessels = JSON.parse(response.data).map((vessel) => ({\n            mmsi: vessel.mmsi,\n            shipname: vessel.mmsi,\n            shiptype: mmsiTypeLookup.find((v) => v.mmsi === vessel.mmsi)\n              ? mmsiTypeLookup.find((v) => v.mmsi === vessel.mmsi).code\n              : \"UKNOWN TYPE\",\n            longitude: vessel.lon,\n            latitude: vessel.lat,\n            speed: vessel.speed,\n            course: vessel.course,\n            heading: vessel.heading,\n            risk: Math.random() * 100,\n            timestamp: vessel.time_stamp_int * 1000,\n          }));\n          setAllVessels(vessels);\n        });\n      } catch (error) {\n        setError(error);\n      }\n    };\n    getFirstFrame();\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    axios({\n      method: \"post\",\n      url:\n        \"https://cors-anywhere.herokuapp.com/http://52.163.54.65:80/api/v1/service/snapshot/score\",\n      data: { time_stamp_int: [currentTime] },\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${process.env.REACT_APP_SNAPSHOT_API_KEY}`,\n      },\n    }).then((response) => {\n      let vessels = JSON.parse(response.data).map((vessel) => ({\n        mmsi: vessel.mmsi,\n        shipname: vessel.mmsi,\n        shiptype: mmsiTypeLookup.find((v) => v.mmsi === vessel.mmsi)\n          ? mmsiTypeLookup.find((v) => v.mmsi === vessel.mmsi).code\n          : \"UKNOWN TYPE\",\n        longitude: vessel.lon,\n        latitude: vessel.lat,\n        speed: vessel.speed,\n        course: vessel.course,\n        heading: vessel.heading,\n        risk: Math.random() * 100,\n        timestamp: vessel.time_stamp_int * 1000,\n      }));\n\n      setAllVessels(vessels);\n    });\n  }, [currentTime]);\n\n  // // Once metadata loaded, load remaining vessel frames\n  // useEffect(() => {\n  //   const getFrame = async (index) => {\n  //     try {\n  //       const promiseFrame = await axios.get(\n  //         FRAMES_DIR + `${index}_frame.json`\n  //       );\n  //       incrementLoadedFrames();\n  //       return { frameIndex: index, frameData: promiseFrame.data };\n  //     } catch (error) {\n  //       setError(error);\n  //     }\n  //   };\n  //   const getRemainingFrames = async () => {\n  //     await new Promise((r) => setTimeout(r, 3000));\n  //     const totalFrames = metadata.frames.length;\n  //     const promiseFrames = [];\n  //     for (let index = 1; index < totalFrames; index++) {\n  //       promiseFrames.push(getFrame(index));\n  //     }\n  //     Promise.all(promiseFrames)\n  //       .then((responses) => {\n  //         let framesData = {};\n  //         responses.map(\n  //           (elem) => (framesData[elem.frameIndex] = elem.frameData)\n  //         );\n  //         // console.log(framesData);\n  //         setFrames((prevFrames) => ({\n  //           ...prevFrames,\n  //           ...framesData,\n  //         }));\n  //       })\n  //       .catch((error) => setError(error));\n  //   };\n  //   if (metadata.frames.length) {\n  //     getRemainingFrames();\n  //   }\n\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\n  // }, [metadata]);\n\n  // // When current frame is updated, update data\n  // useEffect(() => {\n  //   setAllVessels(frames[currentFrame]);\n\n  //   if (alertVessels.length === 0) {\n  //     setAlertFrame(currentFrame >= 134 ? 179 : currentFrame + 45);\n  //   }\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\n  // }, [currentFrame]);\n\n  if (error) return <div>Error: {error.message}</div>;\n  // if (!allVessels || metadata.frames.length === 0)\n  if (!allVessels)\n    return (\n      <div className=\"flex h-screen\">\n        <div className=\"m-auto \">\n          <ScreenCircularProgress />\n        </div>\n      </div>\n    );\n  else {\n    return (\n      <StylesProvider injectFirst>\n        <ThemeProvider theme={darkThemeEnabled ? darkTheme : lightTheme}>\n          <GlobalStyle />\n          <div className=\"h-screen w-screen flex justify-between overflow-hidden\">\n            <ControlPanel vesselsData={allVessels} />\n            <div className=\"h-full w-full flex flex-col flex-1\">\n              <SearchBar />\n              {/* <TimeSlider /> */}\n            </div>\n            <DetailsPanel />\n          </div>\n\n          <MapContainer\n            closeEncounters={allCloseEncounters[alertFrame]}\n            mapStyle={\n              darkThemeEnabled ? darkTheme.mapStyle : lightTheme.mapStyle\n            }\n          />\n        </ThemeProvider>\n      </StylesProvider>\n    );\n  }\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider as ReduxProvider } from \"react-redux\";\n\nimport store from \"./app/Redux\";\nimport App from \"./app/App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"./styles/main.css\";\n\nReactDOM.render(\n  // <React.StrictMode>\n  <ReduxProvider store={store}>\n    <App />\n  </ReduxProvider>,\n  // </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}